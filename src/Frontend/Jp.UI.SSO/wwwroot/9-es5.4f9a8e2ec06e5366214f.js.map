{"version":3,"sources":["./node_modules/ngx-image-cropper/fesm5/ngx-image-cropper.js","./node_modules/ngx-image-cropper/ngx-image-cropper.d.ts.ImageCropperComponent.html","./src/app/panel/clients/add/add.component.html","./src/app/panel/clients/add/add.component.ts","./src/app/panel/clients/claims/claims.component.html","./src/app/panel/clients/claims/claims.component.ts","./src/app/panel/clients/clients.module.ts","./src/app/panel/clients/clients.service.ts","./src/app/panel/clients/edit/auth/auth.component.html","./src/app/panel/clients/edit/auth/auth.component.ts","./src/app/panel/clients/edit/basic/basic.component.html","./src/app/panel/clients/edit/basic/basic.component.ts","./src/app/panel/clients/edit/client-edit.component.html","./src/app/panel/clients/edit/client-edit.component.ts","./src/app/panel/clients/edit/device-flow/device-flow.component.html","./src/app/panel/clients/edit/device-flow/device-flow.component.ts","./src/app/panel/clients/edit/settings/settings.component.html","./src/app/panel/clients/edit/settings/settings.component.ts","./src/app/panel/clients/edit/token/token.component.html","./src/app/panel/clients/edit/token/token.component.ts","./src/app/panel/clients/list/clients-list.component.html","./src/app/panel/clients/list/clients-list.component.ts","./src/app/panel/clients/properties/properties.component.html","./src/app/panel/clients/properties/properties.component.ts","./src/app/panel/clients/secrets/secrets.component.html","./src/app/panel/clients/secrets/secrets.component.ts","./src/app/shared/directives/numberCheck/numbers-only.directive.ts","./src/app/shared/services/scope.service.ts","./src/app/shared/viewModel/client.model.ts","./src/app/shared/viewModel/file.model.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8K;AAC/H;AACd;AACwB;;AAEzD;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB;AACxB,wBAAwB;AACxB,yBAAyB;AACzB;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA,2BAA2B,UAAU;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,mDAAmD,KAAK;AACxD,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,WAAW,EAAE;AACb,YAAY;AACZ;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA,eAAe,EAAE;AACjB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,uBAAuB,YAAY;AACnC,2BAA2B,WAAW;AACtC,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,uCAAuC,cAAc;AACrD,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,+BAA+B,EAAE;AACjC;AACA,2CAA2C,cAAc;AACzD,mCAAmC,EAAE;AACrC;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,EAAE;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA;AACA,sBAAsB;AACtB,WAAW,EAmBV;AACD,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,wGAAwG;AACtH;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,EAAE,kBAAkB,EAAE;AAChD;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,0DAAY;AAC5C,kCAAkC,0DAAY;AAC9C,+BAA+B,0DAAY;AAC3C,gCAAgC,0DAAY;AAC5C,mCAAmC,0DAAY;AAC/C;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,0BAA0B,wDAAwD,EAAE;AACpF;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA,8BAA8B,kEAAkE,EAAE;AAClG;AACA,oBAAoB;AACpB;AACA,qBAAqB,uCAAuC,EAAE;AAC9D;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA,oBAAoB;AACpB;AACA,qBAAqB,qCAAqC,EAAE;AAC5D;AACA,oBAAoB;AACpB;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,6CAA6C,EAAE;AACxE;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sDAAQ,GAAG;AAC9C;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,yBAAyB,6CAA6C,EAAE;AACxE;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,qCAAqC,eAAe;AACpD;AACA,iBAAiB,+DAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA,wBAAwB;AACxB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,kCAAkC,iBAAiB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,sDAAQ,EAAE,qHAAqH;AACxJ;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,sDAAQ,EAAE,kMAAkM;AACrO;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,GAAG;AAClB,gBAAgB;AAChB;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB;AACA,uBAAuB,EAAE;AACzB,yCAAyC,EAAE;AAC3C;AACA;AACA,uBAAuB,EAAE;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA,qCAAqC,sDAAQ,GAAG;AAChD;AACA;AACA;AACA;AACA,2BAA2B,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,EAAE;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA,eAAe,EAAE;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,SAAS,OAAO,uDAAS;AACzB;AACA;AACA,qCAAqC,qEAAuB;AAC5D,oCAAoC,aAAa,kBAAkB,WAAW,eAAe,gBAAgB,gBAAgB,YAAY,kBAAkB,UAAU,WAAW,kBAAkB,2BAA2B,eAAe,gBAAgB,wBAAwB,eAAe,kBAAkB,oBAAoB,kBAAkB,yBAAyB,MAAM,OAAO,eAAe,kBAAkB,aAAa,cAAc,eAAe,yCAAyC,sEAAsE,kBAAkB,qBAAqB,kBAAkB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","file":"9-es5.4f9a8e2ec06e5366214f.js","sourcesContent":["import { EventEmitter, isDevMode, Component, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild, Input, HostBinding, Output, HostListener, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { __assign } from 'tslib';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n// Black 2x1 JPEG, with the following meta information set:\n// - EXIF Orientation: 6 (Rotated 90° CCW)\n// Source: https://github.com/blueimp/JavaScript-Load-Image\n/** @type {?} */\nvar testAutoOrientationImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n    'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n    'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n    'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n    'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n    'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\n/**\n * @return {?}\n */\nfunction supportsAutomaticRotation() {\n    return new Promise((/**\n     * @param {?} resolve\n     * @return {?}\n     */\n    function (resolve) {\n        /** @type {?} */\n        var img = new Image();\n        img.onload = (/**\n         * @return {?}\n         */\n        function () {\n            // Check if browser supports automatic image orientation:\n            /** @type {?} */\n            var supported = img.width === 1 && img.height === 2;\n            resolve(supported);\n        });\n        img.src = testAutoOrientationImageURL;\n    }));\n}\n/**\n * @param {?} exifRotationOrBase64Image\n * @return {?}\n */\nfunction getTransformationsFromExifData(exifRotationOrBase64Image) {\n    if (typeof exifRotationOrBase64Image === 'string') {\n        exifRotationOrBase64Image = getExifRotation(exifRotationOrBase64Image);\n    }\n    switch (exifRotationOrBase64Image) {\n        case 2: return { rotate: 0, flip: true };\n        case 3: return { rotate: 2, flip: false };\n        case 4: return { rotate: 2, flip: true };\n        case 5: return { rotate: 1, flip: true };\n        case 6: return { rotate: 1, flip: false };\n        case 7: return { rotate: 3, flip: true };\n        case 8: return { rotate: 3, flip: false };\n        default: return { rotate: 0, flip: false };\n    }\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction getExifRotation(imageBase64) {\n    /** @type {?} */\n    var view = new DataView(base64ToArrayBuffer(imageBase64));\n    if (view.getUint16(0, false) != 0xFFD8) {\n        return -2;\n    }\n    /** @type {?} */\n    var length = view.byteLength;\n    /** @type {?} */\n    var offset = 2;\n    while (offset < length) {\n        if (view.getUint16(offset + 2, false) <= 8)\n            return -1;\n        /** @type {?} */\n        var marker = view.getUint16(offset, false);\n        offset += 2;\n        if (marker == 0xFFE1) {\n            if (view.getUint32(offset += 2, false) != 0x45786966) {\n                return -1;\n            }\n            /** @type {?} */\n            var little = view.getUint16(offset += 6, false) == 0x4949;\n            offset += view.getUint32(offset + 4, little);\n            /** @type {?} */\n            var tags = view.getUint16(offset, little);\n            offset += 2;\n            for (var i = 0; i < tags; i++) {\n                if (view.getUint16(offset + (i * 12), little) == 0x0112) {\n                    return view.getUint16(offset + (i * 12) + 8, little);\n                }\n            }\n        }\n        else if ((marker & 0xFF00) != 0xFF00) {\n            break;\n        }\n        else {\n            offset += view.getUint16(offset, false);\n        }\n    }\n    return -1;\n}\n/**\n * @param {?} imageBase64\n * @return {?}\n */\nfunction base64ToArrayBuffer(imageBase64) {\n    imageBase64 = imageBase64.replace(/^data\\:([^\\;]+)\\;base64,/gmi, '');\n    /** @type {?} */\n    var binaryString = atob(imageBase64);\n    /** @type {?} */\n    var len = binaryString.length;\n    /** @type {?} */\n    var bytes = new Uint8Array(len);\n    for (var i = 0; i < len; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes.buffer;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/*\n * Hermite resize - fast image resize/resample using Hermite filter.\n * https://github.com/viliusle/Hermite-resize\n */\n/**\n * @param {?} canvas\n * @param {?} width\n * @param {?} height\n * @return {?}\n */\nfunction resizeCanvas(canvas, width, height) {\n    /** @type {?} */\n    var width_source = canvas.width;\n    /** @type {?} */\n    var height_source = canvas.height;\n    width = Math.round(width);\n    height = Math.round(height);\n    /** @type {?} */\n    var ratio_w = width_source / width;\n    /** @type {?} */\n    var ratio_h = height_source / height;\n    /** @type {?} */\n    var ratio_w_half = Math.ceil(ratio_w / 2);\n    /** @type {?} */\n    var ratio_h_half = Math.ceil(ratio_h / 2);\n    /** @type {?} */\n    var ctx = canvas.getContext('2d');\n    if (ctx) {\n        /** @type {?} */\n        var img = ctx.getImageData(0, 0, width_source, height_source);\n        /** @type {?} */\n        var img2 = ctx.createImageData(width, height);\n        /** @type {?} */\n        var data = img.data;\n        /** @type {?} */\n        var data2 = img2.data;\n        for (var j = 0; j < height; j++) {\n            for (var i = 0; i < width; i++) {\n                /** @type {?} */\n                var x2 = (i + j * width) * 4;\n                /** @type {?} */\n                var center_y = j * ratio_h;\n                /** @type {?} */\n                var weight = 0;\n                /** @type {?} */\n                var weights = 0;\n                /** @type {?} */\n                var weights_alpha = 0;\n                /** @type {?} */\n                var gx_r = 0;\n                /** @type {?} */\n                var gx_g = 0;\n                /** @type {?} */\n                var gx_b = 0;\n                /** @type {?} */\n                var gx_a = 0;\n                /** @type {?} */\n                var xx_start = Math.floor(i * ratio_w);\n                /** @type {?} */\n                var yy_start = Math.floor(j * ratio_h);\n                /** @type {?} */\n                var xx_stop = Math.ceil((i + 1) * ratio_w);\n                /** @type {?} */\n                var yy_stop = Math.ceil((j + 1) * ratio_h);\n                xx_stop = Math.min(xx_stop, width_source);\n                yy_stop = Math.min(yy_stop, height_source);\n                for (var yy = yy_start; yy < yy_stop; yy++) {\n                    /** @type {?} */\n                    var dy = Math.abs(center_y - yy) / ratio_h_half;\n                    /** @type {?} */\n                    var center_x = i * ratio_w;\n                    /** @type {?} */\n                    var w0 = dy * dy;\n                    for (var xx = xx_start; xx < xx_stop; xx++) {\n                        /** @type {?} */\n                        var dx = Math.abs(center_x - xx) / ratio_w_half;\n                        /** @type {?} */\n                        var w = Math.sqrt(w0 + dx * dx);\n                        if (w >= 1) {\n                            //pixel too far\n                            continue;\n                        }\n                        //hermite filter\n                        weight = 2 * w * w * w - 3 * w * w + 1;\n                        /** @type {?} */\n                        var pos_x = 4 * (xx + yy * width_source);\n                        //alpha\n                        gx_a += weight * data[pos_x + 3];\n                        weights_alpha += weight;\n                        //colors\n                        if (data[pos_x + 3] < 255)\n                            weight = weight * data[pos_x + 3] / 250;\n                        gx_r += weight * data[pos_x];\n                        gx_g += weight * data[pos_x + 1];\n                        gx_b += weight * data[pos_x + 2];\n                        weights += weight;\n                    }\n                }\n                data2[x2] = gx_r / weights;\n                data2[x2 + 1] = gx_g / weights;\n                data2[x2 + 2] = gx_b / weights;\n                data2[x2 + 3] = gx_a / weights_alpha;\n            }\n        }\n        canvas.width = width;\n        canvas.height = height;\n        //draw\n        ctx.putImageData(img2, 0, 0);\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @record\n */\nfunction MoveStart() { }\nif (false) {\n    /** @type {?} */\n    MoveStart.prototype.active;\n    /** @type {?} */\n    MoveStart.prototype.type;\n    /** @type {?} */\n    MoveStart.prototype.position;\n    /** @type {?} */\n    MoveStart.prototype.x1;\n    /** @type {?} */\n    MoveStart.prototype.y1;\n    /** @type {?} */\n    MoveStart.prototype.x2;\n    /** @type {?} */\n    MoveStart.prototype.y2;\n    /** @type {?} */\n    MoveStart.prototype.clientX;\n    /** @type {?} */\n    MoveStart.prototype.clientY;\n}\n/** @enum {string} */\nvar MoveTypes = {\n    Move: 'move',\n    Resize: 'resize',\n    Pinch: 'pinch',\n};\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar ImageCropperComponent = /** @class */ (function () {\n    function ImageCropperComponent(sanitizer, cd) {\n        this.sanitizer = sanitizer;\n        this.cd = cd;\n        this.Hammer = typeof window !== 'undefined'\n            ? (/** @type {?} */ (((/** @type {?} */ (window))).Hammer))\n            : null;\n        this.setImageMaxSizeRetries = 0;\n        this.cropperScaledMinWidth = 20;\n        this.cropperScaledMinHeight = 20;\n        this.exifTransform = { rotate: 0, flip: false };\n        this.autoRotateSupported = supportsAutomaticRotation();\n        this.stepSize = 3;\n        this.marginLeft = '0px';\n        this.imageVisible = false;\n        this.moveTypes = MoveTypes;\n        this.format = 'png';\n        this.maintainAspectRatio = true;\n        this.transform = {};\n        this.aspectRatio = 1;\n        this.resizeToWidth = 0;\n        this.resizeToHeight = 0;\n        this.cropperMinWidth = 0;\n        this.cropperMinHeight = 0;\n        this.canvasRotation = 0;\n        this.initialStepSize = 3;\n        this.roundCropper = false;\n        this.onlyScaleDown = false;\n        this.imageQuality = 92;\n        this.autoCrop = true;\n        this.containWithinAspectRatio = false;\n        this.hideResizeSquares = false;\n        this.cropper = {\n            x1: -100,\n            y1: -100,\n            x2: 10000,\n            y2: 10000\n        };\n        this.alignImage = 'center';\n        this.disabled = false;\n        this.imageCropped = new EventEmitter();\n        this.startCropImage = new EventEmitter();\n        this.imageLoaded = new EventEmitter();\n        this.cropperReady = new EventEmitter();\n        this.loadImageFailed = new EventEmitter();\n        this.initCropper();\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.ngOnChanges = /**\n     * @param {?} changes\n     * @return {?}\n     */\n    function (changes) {\n        this.onChangesInputImage(changes);\n        if (this.originalImage && this.originalImage.complete && this.exifTransform\n            && (changes.containWithinAspectRatio || changes.canvasRotation)) {\n            this.transformOriginalImage();\n        }\n        if (changes.cropper) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.checkCropperPosition(false);\n            this.doAutoCrop();\n            this.cd.markForCheck();\n        }\n        if (changes.aspectRatio && this.imageVisible) {\n            this.resetCropperPosition();\n        }\n        if (changes.transform) {\n            this.transform = this.transform || {};\n            this.setCssTransform();\n            this.doAutoCrop();\n        }\n    };\n    /**\n     * @private\n     * @param {?} changes\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.onChangesInputImage = /**\n     * @private\n     * @param {?} changes\n     * @return {?}\n     */\n    function (changes) {\n        if (changes.imageChangedEvent || changes.imageURL || changes.imageBase64 || changes.imageFile) {\n            this.initCropper();\n        }\n        if (changes.imageChangedEvent && this.isValidImageChangedEvent()) {\n            this.loadImageFile(this.imageChangedEvent.target.files[0]);\n        }\n        if (changes.imageURL && this.imageURL) {\n            this.loadImageFromURL(this.imageURL);\n        }\n        if (changes.imageBase64 && this.imageBase64) {\n            this.loadBase64Image(this.imageBase64);\n        }\n        if (changes.imageFile && this.imageFile) {\n            this.loadImageFile(this.imageFile);\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.isValidImageChangedEvent = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        return this.imageChangedEvent\n            && this.imageChangedEvent.target\n            && this.imageChangedEvent.target.files\n            && this.imageChangedEvent.target.files.length > 0;\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setCssTransform = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        this.safeTransformStyle = this.sanitizer.bypassSecurityTrustStyle('scaleX(' + (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1) + ')' +\n            'scaleY(' + (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1) + ')' +\n            'rotate(' + (this.transform.rotate || 0) + 'deg)');\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.ngOnInit = /**\n     * @return {?}\n     */\n    function () {\n        this.stepSize = this.initialStepSize;\n        this.activatePinchGesture();\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.initCropper = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        this.imageVisible = false;\n        this.transformedImage = null;\n        this.safeImgDataUrl = 'data:image/png;base64,iVBORw0KGg'\n            + 'oAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAU'\n            + 'AAarVyFEAAAAASUVORK5CYII=';\n        this.moveStart = {\n            active: false,\n            type: null,\n            position: null,\n            x1: 0,\n            y1: 0,\n            x2: 0,\n            y2: 0,\n            clientX: 0,\n            clientY: 0\n        };\n        this.maxSize = {\n            width: 0,\n            height: 0\n        };\n        this.originalSize = {\n            width: 0,\n            height: 0\n        };\n        this.transformedSize = {\n            width: 0,\n            height: 0\n        };\n        this.cropper.x1 = -100;\n        this.cropper.y1 = -100;\n        this.cropper.x2 = 10000;\n        this.cropper.y2 = 10000;\n    };\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @param {?} imageType\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.loadImage = /**\n     * @private\n     * @param {?} imageBase64\n     * @param {?} imageType\n     * @return {?}\n     */\n    function (imageBase64, imageType) {\n        if (this.isValidImageType(imageType)) {\n            this.loadBase64Image(imageBase64);\n        }\n        else {\n            this.loadImageFailed.emit();\n        }\n    };\n    /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.loadImageFile = /**\n     * @private\n     * @param {?} file\n     * @return {?}\n     */\n    function (file) {\n        var _this = this;\n        /** @type {?} */\n        var fileReader = new FileReader();\n        fileReader.onload = (/**\n         * @param {?} event\n         * @return {?}\n         */\n        function (event) { return _this.loadImage(event.target.result, file.type); });\n        fileReader.readAsDataURL(file);\n    };\n    /**\n     * @private\n     * @param {?} type\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.isValidImageType = /**\n     * @private\n     * @param {?} type\n     * @return {?}\n     */\n    function (type) {\n        return /image\\/(png|jpg|jpeg|bmp|gif|tiff|webp)/.test(type);\n    };\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.loadBase64Image = /**\n     * @private\n     * @param {?} imageBase64\n     * @return {?}\n     */\n    function (imageBase64) {\n        var _this = this;\n        this.autoRotateSupported\n            .then((/**\n         * @param {?} supported\n         * @return {?}\n         */\n        function (supported) { return _this.checkExifAndLoadBase64Image(imageBase64, supported); }))\n            .then((/**\n         * @return {?}\n         */\n        function () { return _this.transformOriginalImage(); }))\n            .catch((/**\n         * @param {?} error\n         * @return {?}\n         */\n        function (error) {\n            _this.loadImageFailed.emit();\n            _this.originalImage = null;\n            _this.originalBase64 = null;\n            console.error(error);\n        }));\n    };\n    /**\n     * @private\n     * @param {?} imageBase64\n     * @param {?} autoRotateSupported\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkExifAndLoadBase64Image = /**\n     * @private\n     * @param {?} imageBase64\n     * @param {?} autoRotateSupported\n     * @return {?}\n     */\n    function (imageBase64, autoRotateSupported) {\n        var _this = this;\n        return new Promise((/**\n         * @param {?} resolve\n         * @param {?} reject\n         * @return {?}\n         */\n        function (resolve, reject) {\n            _this.originalImage = new Image();\n            _this.originalImage.onload = (/**\n             * @return {?}\n             */\n            function () {\n                _this.originalBase64 = imageBase64;\n                _this.exifTransform = getTransformationsFromExifData(autoRotateSupported ? -1 : imageBase64);\n                _this.originalSize.width = _this.originalImage.naturalWidth;\n                _this.originalSize.height = _this.originalImage.naturalHeight;\n                resolve();\n            });\n            _this.originalImage.onerror = reject;\n            _this.originalImage.src = imageBase64;\n        }));\n    };\n    /**\n     * @private\n     * @param {?} url\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.loadImageFromURL = /**\n     * @private\n     * @param {?} url\n     * @return {?}\n     */\n    function (url) {\n        var _this = this;\n        /** @type {?} */\n        var img = new Image();\n        img.onerror = (/**\n         * @return {?}\n         */\n        function () { return _this.loadImageFailed.emit(); });\n        img.onload = (/**\n         * @return {?}\n         */\n        function () {\n            /** @type {?} */\n            var canvas = document.createElement('canvas');\n            /** @type {?} */\n            var context = canvas.getContext('2d');\n            canvas.width = img.width;\n            canvas.height = img.height;\n            context.drawImage(img, 0, 0);\n            _this.loadBase64Image(canvas.toDataURL());\n        });\n        img.crossOrigin = 'anonymous';\n        img.src = url;\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getTransformedSize = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var canvasRotation = this.canvasRotation + this.exifTransform.rotate;\n        if (this.containWithinAspectRatio) {\n            if (canvasRotation % 2) {\n                /** @type {?} */\n                var minWidthToContain = this.originalSize.width * this.aspectRatio;\n                /** @type {?} */\n                var minHeightToContain = this.originalSize.height / this.aspectRatio;\n                return {\n                    width: Math.max(this.originalSize.height, minWidthToContain),\n                    height: Math.max(this.originalSize.width, minHeightToContain),\n                };\n            }\n            else {\n                /** @type {?} */\n                var minWidthToContain = this.originalSize.height * this.aspectRatio;\n                /** @type {?} */\n                var minHeightToContain = this.originalSize.width / this.aspectRatio;\n                return {\n                    width: Math.max(this.originalSize.width, minWidthToContain),\n                    height: Math.max(this.originalSize.height, minHeightToContain),\n                };\n            }\n        }\n        if (canvasRotation % 2) {\n            return {\n                height: this.originalSize.width,\n                width: this.originalSize.height,\n            };\n        }\n        return {\n            width: this.originalSize.width,\n            height: this.originalSize.height,\n        };\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.transformOriginalImage = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        if (!this.originalImage || !this.originalImage.complete || !this.exifTransform) {\n            return Promise.reject(new Error('No image loaded'));\n        }\n        /** @type {?} */\n        var transformedBase64 = this.transformImageBase64();\n        return this.setTransformedImage(transformedBase64);\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.transformImageBase64 = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var canvasRotation = this.canvasRotation + this.exifTransform.rotate;\n        /** @type {?} */\n        var transformedSize = this.getTransformedSize();\n        /** @type {?} */\n        var canvas = document.createElement('canvas');\n        canvas.width = transformedSize.width;\n        canvas.height = transformedSize.height;\n        /** @type {?} */\n        var ctx = canvas.getContext('2d');\n        ctx.setTransform(this.exifTransform.flip ? -1 : 1, 0, 0, 1, canvas.width / 2, canvas.height / 2);\n        ctx.rotate(Math.PI * (canvasRotation / 2));\n        ctx.drawImage(this.originalImage, -this.originalSize.width / 2, -this.originalSize.height / 2);\n        return canvas.toDataURL();\n    };\n    /**\n     * @private\n     * @param {?} transformedBase64\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setTransformedImage = /**\n     * @private\n     * @param {?} transformedBase64\n     * @return {?}\n     */\n    function (transformedBase64) {\n        var _this = this;\n        return new Promise((/**\n         * @param {?} resolve\n         * @return {?}\n         */\n        function (resolve) {\n            _this.transformedBase64 = transformedBase64;\n            _this.safeImgDataUrl = _this.sanitizer.bypassSecurityTrustResourceUrl(transformedBase64);\n            _this.transformedImage = new Image();\n            _this.transformedImage.onload = (/**\n             * @return {?}\n             */\n            function () {\n                _this.transformedSize.width = _this.transformedImage.naturalWidth;\n                _this.transformedSize.height = _this.transformedImage.naturalHeight;\n                _this.cd.markForCheck();\n                resolve();\n            });\n            _this.transformedImage.src = _this.transformedBase64;\n        }));\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.imageLoadedInView = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this.transformedImage != null) {\n            this.imageLoaded.emit();\n            this.setImageMaxSizeRetries = 0;\n            setTimeout((/**\n             * @return {?}\n             */\n            function () { return _this.checkImageMaxSizeRecursively(); }));\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkImageMaxSizeRecursively = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this.setImageMaxSizeRetries > 40) {\n            this.loadImageFailed.emit();\n        }\n        else if (this.sourceImageLoaded()) {\n            this.setMaxSize();\n            this.setCropperScaledMinSize();\n            this.resetCropperPosition();\n            this.cropperReady.emit(__assign({}, this.maxSize));\n            this.cd.markForCheck();\n        }\n        else {\n            this.setImageMaxSizeRetries++;\n            setTimeout((/**\n             * @return {?}\n             */\n            function () { return _this.checkImageMaxSizeRecursively(); }), 50);\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.sourceImageLoaded = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        return this.sourceImage && this.sourceImage.nativeElement && this.sourceImage.nativeElement.offsetWidth > 0;\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.onResize = /**\n     * @return {?}\n     */\n    function () {\n        this.resizeCropperPosition();\n        this.setMaxSize();\n        this.setCropperScaledMinSize();\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.activatePinchGesture = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        if (this.Hammer) {\n            /** @type {?} */\n            var hammer = new this.Hammer(this.wrapper.nativeElement);\n            hammer.get('pinch').set({ enable: true });\n        }\n        else if (isDevMode()) {\n            console.warn('[NgxImageCropper] Could not find HammerJS - Pinch Gesture won\\'t work');\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.resizeCropperPosition = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        if (this.maxSize.width !== sourceImageElement.offsetWidth || this.maxSize.height !== sourceImageElement.offsetHeight) {\n            this.cropper.x1 = this.cropper.x1 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.x2 = this.cropper.x2 * sourceImageElement.offsetWidth / this.maxSize.width;\n            this.cropper.y1 = this.cropper.y1 * sourceImageElement.offsetHeight / this.maxSize.height;\n            this.cropper.y2 = this.cropper.y2 * sourceImageElement.offsetHeight / this.maxSize.height;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.resetCropperPosition = /**\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        if (!this.maintainAspectRatio) {\n            this.cropper.x1 = 0;\n            this.cropper.x2 = sourceImageElement.offsetWidth;\n            this.cropper.y1 = 0;\n            this.cropper.y2 = sourceImageElement.offsetHeight;\n        }\n        else if (sourceImageElement.offsetWidth / this.aspectRatio < sourceImageElement.offsetHeight) {\n            this.cropper.x1 = 0;\n            this.cropper.x2 = sourceImageElement.offsetWidth;\n            /** @type {?} */\n            var cropperHeight = sourceImageElement.offsetWidth / this.aspectRatio;\n            this.cropper.y1 = (sourceImageElement.offsetHeight - cropperHeight) / 2;\n            this.cropper.y2 = this.cropper.y1 + cropperHeight;\n        }\n        else {\n            this.cropper.y1 = 0;\n            this.cropper.y2 = sourceImageElement.offsetHeight;\n            /** @type {?} */\n            var cropperWidth = sourceImageElement.offsetHeight * this.aspectRatio;\n            this.cropper.x1 = (sourceImageElement.offsetWidth - cropperWidth) / 2;\n            this.cropper.x2 = this.cropper.x1 + cropperWidth;\n        }\n        this.doAutoCrop();\n        this.imageVisible = true;\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.keyboardAccess = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        this.changeKeyboardStepSize(event);\n        this.keyboardMoveCropper(event);\n    };\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.changeKeyboardStepSize = /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (event.key >= '1' && event.key <= '9') {\n            this.stepSize = +event.key;\n            return;\n        }\n    };\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.keyboardMoveCropper = /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        /** @type {?} */\n        var keyboardWhiteList = ['ArrowUp', 'ArrowDown', 'ArrowRight', 'ArrowLeft'];\n        if (!(keyboardWhiteList.includes(event.key))) {\n            return;\n        }\n        /** @type {?} */\n        var moveType = event.shiftKey ? MoveTypes.Resize : MoveTypes.Move;\n        /** @type {?} */\n        var position = event.altKey ? this.getInvertedPositionForKey(event.key) : this.getPositionForKey(event.key);\n        /** @type {?} */\n        var moveEvent = this.getEventForKey(event.key, this.stepSize);\n        event.preventDefault();\n        event.stopPropagation();\n        this.startMove({ clientX: 0, clientY: 0 }, moveType, position);\n        this.moveImg(moveEvent);\n        this.moveStop();\n    };\n    /**\n     * @private\n     * @param {?} key\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getPositionForKey = /**\n     * @private\n     * @param {?} key\n     * @return {?}\n     */\n    function (key) {\n        switch (key) {\n            case 'ArrowUp':\n                return 'top';\n            case 'ArrowRight':\n                return 'right';\n            case 'ArrowDown':\n                return 'bottom';\n            case 'ArrowLeft':\n            default:\n                return 'left';\n        }\n    };\n    /**\n     * @private\n     * @param {?} key\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getInvertedPositionForKey = /**\n     * @private\n     * @param {?} key\n     * @return {?}\n     */\n    function (key) {\n        switch (key) {\n            case 'ArrowUp':\n                return 'bottom';\n            case 'ArrowRight':\n                return 'left';\n            case 'ArrowDown':\n                return 'top';\n            case 'ArrowLeft':\n            default:\n                return 'right';\n        }\n    };\n    /**\n     * @private\n     * @param {?} key\n     * @param {?} stepSize\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getEventForKey = /**\n     * @private\n     * @param {?} key\n     * @param {?} stepSize\n     * @return {?}\n     */\n    function (key, stepSize) {\n        switch (key) {\n            case 'ArrowUp':\n                return { clientX: 0, clientY: stepSize * -1 };\n            case 'ArrowRight':\n                return { clientX: stepSize, clientY: 0 };\n            case 'ArrowDown':\n                return { clientX: 0, clientY: stepSize };\n            case 'ArrowLeft':\n            default:\n                return { clientX: stepSize * -1, clientY: 0 };\n        }\n    };\n    /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.startMove = /**\n     * @param {?} event\n     * @param {?} moveType\n     * @param {?=} position\n     * @return {?}\n     */\n    function (event, moveType, position) {\n        if (position === void 0) { position = null; }\n        if (this.moveStart && this.moveStart.active && this.moveStart.type === MoveTypes.Pinch) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = __assign({ active: true, type: moveType, position: position, clientX: this.getClientX(event), clientY: this.getClientY(event) }, this.cropper);\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.startPinch = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (!this.safeImgDataUrl) {\n            return;\n        }\n        if (event.preventDefault) {\n            event.preventDefault();\n        }\n        this.moveStart = __assign({ active: true, type: MoveTypes.Pinch, position: 'center', clientX: this.cropper.x1 + (this.cropper.x2 - this.cropper.x1) / 2, clientY: this.cropper.y1 + (this.cropper.y2 - this.cropper.y1) / 2 }, this.cropper);\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.moveImg = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Move) {\n                this.move(event);\n                this.checkCropperPosition(true);\n            }\n            else if (this.moveStart.type === MoveTypes.Resize) {\n                this.resize(event);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    };\n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.onPinch = /**\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        if (this.moveStart.active) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            }\n            if (event.preventDefault) {\n                event.preventDefault();\n            }\n            if (this.moveStart.type === MoveTypes.Pinch) {\n                this.resize(event);\n                this.checkCropperPosition(false);\n            }\n            this.cd.detectChanges();\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setMaxSize = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        if (this.sourceImage) {\n            /** @type {?} */\n            var sourceImageElement = this.sourceImage.nativeElement;\n            this.maxSize.width = sourceImageElement.offsetWidth;\n            this.maxSize.height = sourceImageElement.offsetHeight;\n            this.marginLeft = this.sanitizer.bypassSecurityTrustStyle('calc(50% - ' + this.maxSize.width / 2 + 'px)');\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setCropperScaledMinSize = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        if (this.transformedImage) {\n            this.setCropperScaledMinWidth();\n            this.setCropperScaledMinHeight();\n        }\n        else {\n            this.cropperScaledMinWidth = 20;\n            this.cropperScaledMinHeight = 20;\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setCropperScaledMinWidth = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        this.cropperScaledMinWidth = this.cropperMinWidth > 0\n            ? Math.max(20, this.cropperMinWidth / this.transformedImage.width * this.maxSize.width)\n            : 20;\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.setCropperScaledMinHeight = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        if (this.maintainAspectRatio) {\n            this.cropperScaledMinHeight = Math.max(20, this.cropperScaledMinWidth / this.aspectRatio);\n        }\n        else if (this.cropperMinHeight > 0) {\n            this.cropperScaledMinHeight = Math.max(20, this.cropperMinHeight / this.transformedImage.height * this.maxSize.height);\n        }\n        else {\n            this.cropperScaledMinHeight = 20;\n        }\n    };\n    /**\n     * @private\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkCropperPosition = /**\n     * @private\n     * @param {?=} maintainSize\n     * @return {?}\n     */\n    function (maintainSize) {\n        if (maintainSize === void 0) { maintainSize = false; }\n        if (this.cropper.x1 < 0) {\n            this.cropper.x2 -= maintainSize ? this.cropper.x1 : 0;\n            this.cropper.x1 = 0;\n        }\n        if (this.cropper.y1 < 0) {\n            this.cropper.y2 -= maintainSize ? this.cropper.y1 : 0;\n            this.cropper.y1 = 0;\n        }\n        if (this.cropper.x2 > this.maxSize.width) {\n            this.cropper.x1 -= maintainSize ? (this.cropper.x2 - this.maxSize.width) : 0;\n            this.cropper.x2 = this.maxSize.width;\n        }\n        if (this.cropper.y2 > this.maxSize.height) {\n            this.cropper.y1 -= maintainSize ? (this.cropper.y2 - this.maxSize.height) : 0;\n            this.cropper.y2 = this.maxSize.height;\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.moveStop = /**\n     * @return {?}\n     */\n    function () {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.pinchStop = /**\n     * @return {?}\n     */\n    function () {\n        if (this.moveStart.active) {\n            this.moveStart.active = false;\n            this.doAutoCrop();\n        }\n    };\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.move = /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        /** @type {?} */\n        var diffX = this.getClientX(event) - this.moveStart.clientX;\n        /** @type {?} */\n        var diffY = this.getClientY(event) - this.moveStart.clientY;\n        this.cropper.x1 = this.moveStart.x1 + diffX;\n        this.cropper.y1 = this.moveStart.y1 + diffY;\n        this.cropper.x2 = this.moveStart.x2 + diffX;\n        this.cropper.y2 = this.moveStart.y2 + diffY;\n    };\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.resize = /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        /** @type {?} */\n        var diffX = this.getClientX(event) - this.moveStart.clientX;\n        /** @type {?} */\n        var diffY = this.getClientY(event) - this.moveStart.clientY;\n        switch (this.moveStart.position) {\n            case 'left':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                break;\n            case 'topleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'top':\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'topright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                this.cropper.y1 = Math.min(this.moveStart.y1 + diffY, this.cropper.y2 - this.cropperScaledMinHeight);\n                break;\n            case 'right':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                break;\n            case 'bottomright':\n                this.cropper.x2 = Math.max(this.moveStart.x2 + diffX, this.cropper.x1 + this.cropperScaledMinWidth);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n            case 'bottom':\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n            case 'bottomleft':\n                this.cropper.x1 = Math.min(this.moveStart.x1 + diffX, this.cropper.x2 - this.cropperScaledMinWidth);\n                this.cropper.y2 = Math.max(this.moveStart.y2 + diffY, this.cropper.y1 + this.cropperScaledMinHeight);\n                break;\n            case 'center':\n                /** @type {?} */\n                var scale = event.scale;\n                /** @type {?} */\n                var newWidth = (Math.abs(this.moveStart.x2 - this.moveStart.x1)) * scale;\n                /** @type {?} */\n                var newHeight = (Math.abs(this.moveStart.y2 - this.moveStart.y1)) * scale;\n                /** @type {?} */\n                var x1 = this.cropper.x1;\n                /** @type {?} */\n                var y1 = this.cropper.y1;\n                this.cropper.x1 = Math.min(this.moveStart.clientX - (newWidth / 2), this.cropper.x2 - this.cropperScaledMinWidth);\n                this.cropper.y1 = Math.min(this.moveStart.clientY - (newHeight / 2), this.cropper.y2 - this.cropperScaledMinHeight);\n                this.cropper.x2 = Math.max(this.moveStart.clientX + (newWidth / 2), x1 + this.cropperScaledMinWidth);\n                this.cropper.y2 = Math.max(this.moveStart.clientY + (newHeight / 2), y1 + this.cropperScaledMinHeight);\n                break;\n        }\n        if (this.maintainAspectRatio) {\n            this.checkAspectRatio();\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.checkAspectRatio = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var overflowX = 0;\n        /** @type {?} */\n        var overflowY = 0;\n        switch (this.moveStart.position) {\n            case 'top':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'bottom':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : (overflowX / this.aspectRatio);\n                }\n                break;\n            case 'topleft':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'topright':\n                this.cropper.y1 = this.cropper.y2 - (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y1 += (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'right':\n            case 'bottomright':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x2 -= (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'left':\n            case 'bottomleft':\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                overflowX = Math.max(0 - this.cropper.x1, 0);\n                overflowY = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                if (overflowX > 0 || overflowY > 0) {\n                    this.cropper.x1 += (overflowY * this.aspectRatio) > overflowX ? (overflowY * this.aspectRatio) : overflowX;\n                    this.cropper.y2 -= (overflowY * this.aspectRatio) > overflowX ? overflowY : overflowX / this.aspectRatio;\n                }\n                break;\n            case 'center':\n                this.cropper.x2 = this.cropper.x1 + (this.cropper.y2 - this.cropper.y1) * this.aspectRatio;\n                this.cropper.y2 = this.cropper.y1 + (this.cropper.x2 - this.cropper.x1) / this.aspectRatio;\n                /** @type {?} */\n                var overflowX1 = Math.max(0 - this.cropper.x1, 0);\n                /** @type {?} */\n                var overflowX2 = Math.max(this.cropper.x2 - this.maxSize.width, 0);\n                /** @type {?} */\n                var overflowY1 = Math.max(this.cropper.y2 - this.maxSize.height, 0);\n                /** @type {?} */\n                var overflowY2 = Math.max(0 - this.cropper.y1, 0);\n                if (overflowX1 > 0 || overflowX2 > 0 || overflowY1 > 0 || overflowY2 > 0) {\n                    this.cropper.x1 += (overflowY1 * this.aspectRatio) > overflowX1 ? (overflowY1 * this.aspectRatio) : overflowX1;\n                    this.cropper.x2 -= (overflowY2 * this.aspectRatio) > overflowX2 ? (overflowY2 * this.aspectRatio) : overflowX2;\n                    this.cropper.y1 += (overflowY2 * this.aspectRatio) > overflowX2 ? overflowY2 : overflowX2 / this.aspectRatio;\n                    this.cropper.y2 -= (overflowY1 * this.aspectRatio) > overflowX1 ? overflowY1 : overflowX1 / this.aspectRatio;\n                }\n                break;\n        }\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.doAutoCrop = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        if (this.autoCrop) {\n            this.crop();\n        }\n    };\n    /**\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.crop = /**\n     * @return {?}\n     */\n    function () {\n        if (this.sourceImage && this.sourceImage.nativeElement && this.transformedImage != null) {\n            this.startCropImage.emit();\n            /** @type {?} */\n            var imagePosition = this.getImagePosition();\n            /** @type {?} */\n            var width = imagePosition.x2 - imagePosition.x1;\n            /** @type {?} */\n            var height = imagePosition.y2 - imagePosition.y1;\n            /** @type {?} */\n            var cropCanvas = (/** @type {?} */ (document.createElement('canvas')));\n            cropCanvas.width = width;\n            cropCanvas.height = height;\n            /** @type {?} */\n            var ctx = cropCanvas.getContext('2d');\n            if (ctx) {\n                if (this.backgroundColor != null) {\n                    ctx.fillStyle = this.backgroundColor;\n                    ctx.fillRect(0, 0, width, height);\n                }\n                /** @type {?} */\n                var scaleX = (this.transform.scale || 1) * (this.transform.flipH ? -1 : 1);\n                /** @type {?} */\n                var scaleY = (this.transform.scale || 1) * (this.transform.flipV ? -1 : 1);\n                ctx.setTransform(scaleX, 0, 0, scaleY, this.transformedSize.width / 2, this.transformedSize.height / 2);\n                ctx.translate(-imagePosition.x1 / scaleX, -imagePosition.y1 / scaleY);\n                ctx.rotate((this.transform.rotate || 0) * Math.PI / 180);\n                ctx.drawImage(this.transformedImage, -this.transformedSize.width / 2, -this.transformedSize.height / 2);\n                /** @type {?} */\n                var output = {\n                    width: width, height: height,\n                    imagePosition: imagePosition,\n                    cropperPosition: __assign({}, this.cropper)\n                };\n                if (this.containWithinAspectRatio) {\n                    output.offsetImagePosition = this.getOffsetImagePosition();\n                }\n                /** @type {?} */\n                var resizeRatio = this.getResizeRatio(width, height);\n                if (resizeRatio !== 1) {\n                    output.width = Math.round(width * resizeRatio);\n                    output.height = this.maintainAspectRatio\n                        ? Math.round(output.width / this.aspectRatio)\n                        : Math.round(height * resizeRatio);\n                    resizeCanvas(cropCanvas, output.width, output.height);\n                }\n                output.base64 = this.cropToBase64(cropCanvas);\n                this.imageCropped.emit(output);\n                return output;\n            }\n        }\n        return null;\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getImagePosition = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        /** @type {?} */\n        var ratio = this.transformedSize.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        var out = {\n            x1: Math.round(this.cropper.x1 * ratio),\n            y1: Math.round(this.cropper.y1 * ratio),\n            x2: Math.round(this.cropper.x2 * ratio),\n            y2: Math.round(this.cropper.y2 * ratio)\n        };\n        if (!this.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, this.transformedSize.width);\n            out.y2 = Math.min(out.y2, this.transformedSize.height);\n        }\n        return out;\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getOffsetImagePosition = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        /** @type {?} */\n        var canvasRotation = this.canvasRotation + this.exifTransform.rotate;\n        /** @type {?} */\n        var sourceImageElement = this.sourceImage.nativeElement;\n        /** @type {?} */\n        var ratio = this.transformedSize.width / sourceImageElement.offsetWidth;\n        /** @type {?} */\n        var offsetX;\n        /** @type {?} */\n        var offsetY;\n        if (canvasRotation % 2) {\n            offsetX = (this.transformedSize.width - this.originalSize.height) / 2;\n            offsetY = (this.transformedSize.height - this.originalSize.width) / 2;\n        }\n        else {\n            offsetX = (this.transformedSize.width - this.originalSize.width) / 2;\n            offsetY = (this.transformedSize.height - this.originalSize.height) / 2;\n        }\n        /** @type {?} */\n        var out = {\n            x1: Math.round(this.cropper.x1 * ratio) - offsetX,\n            y1: Math.round(this.cropper.y1 * ratio) - offsetY,\n            x2: Math.round(this.cropper.x2 * ratio) - offsetX,\n            y2: Math.round(this.cropper.y2 * ratio) - offsetY\n        };\n        if (!this.containWithinAspectRatio) {\n            out.x1 = Math.max(out.x1, 0);\n            out.y1 = Math.max(out.y1, 0);\n            out.x2 = Math.min(out.x2, this.transformedSize.width);\n            out.y2 = Math.min(out.y2, this.transformedSize.height);\n        }\n        return out;\n    };\n    /**\n     * @private\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.cropToBase64 = /**\n     * @private\n     * @param {?} cropCanvas\n     * @return {?}\n     */\n    function (cropCanvas) {\n        return cropCanvas.toDataURL('image/' + this.format, this.getQuality());\n    };\n    /**\n     * @private\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getQuality = /**\n     * @private\n     * @return {?}\n     */\n    function () {\n        return Math.min(1, Math.max(0, this.imageQuality / 100));\n    };\n    /**\n     * @private\n     * @param {?} width\n     * @param {?} height\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getResizeRatio = /**\n     * @private\n     * @param {?} width\n     * @param {?} height\n     * @return {?}\n     */\n    function (width, height) {\n        if (this.resizeToWidth > 0) {\n            if (!this.onlyScaleDown || width > this.resizeToWidth) {\n                return this.resizeToWidth / width;\n            }\n        }\n        else if (this.resizeToHeight > 0) {\n            if (!this.onlyScaleDown || height > this.resizeToHeight) {\n                return this.resizeToHeight / height;\n            }\n        }\n        return 1;\n    };\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getClientX = /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        return (event.touches && event.touches[0] ? event.touches[0].clientX : event.clientX) || 0;\n    };\n    /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    ImageCropperComponent.prototype.getClientY = /**\n     * @private\n     * @param {?} event\n     * @return {?}\n     */\n    function (event) {\n        return (event.touches && event.touches[0] ? event.touches[0].clientY : event.clientY) || 0;\n    };\n    ImageCropperComponent.decorators = [\n        { type: Component, args: [{\n                    selector: 'image-cropper',\n                    template: \"<div [style.background]=\\\"imageVisible && backgroundColor\\\"\\n     (pinchstart)=\\\"startPinch($event)\\\"\\n     #wrapper\\n>\\n    <img\\n      #sourceImage\\n      class=\\\"source-image\\\"\\n      *ngIf=\\\"safeImgDataUrl\\\"\\n      [src]=\\\"safeImgDataUrl\\\"\\n      [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n      [style.transform]=\\\"safeTransformStyle\\\"\\n      (load)=\\\"imageLoadedInView()\\\"\\n    />\\n    <div\\n        class=\\\"overlay\\\"\\n        [style.width.px]=\\\"maxSize.width\\\"\\n        [style.height.px]=\\\"maxSize.height\\\"\\n        [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n    ></div>\\n    <div class=\\\"cropper\\\"\\n         *ngIf=\\\"imageVisible\\\"\\n         [class.rounded]=\\\"roundCropper\\\"\\n         [style.top.px]=\\\"cropper.y1\\\"\\n         [style.left.px]=\\\"cropper.x1\\\"\\n         [style.width.px]=\\\"cropper.x2 - cropper.x1\\\"\\n         [style.height.px]=\\\"cropper.y2 - cropper.y1\\\"\\n         [style.margin-left]=\\\"alignImage === 'center' ? marginLeft : null\\\"\\n         [style.visibility]=\\\"imageVisible ? 'visible' : 'hidden'\\\"\\n         (keydown)=\\\"keyboardAccess($event)\\\"\\n         tabindex=\\\"0\\\"\\n    >\\n        <div\\n            (mousedown)=\\\"startMove($event, moveTypes.Move)\\\"\\n            (touchstart)=\\\"startMove($event, moveTypes.Move)\\\"\\n            class=\\\"move\\\">\\n        </div>\\n        <ng-container *ngIf=\\\"!hideResizeSquares\\\">\\n            <span class=\\\"resize topleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topleft')\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize top\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize topright\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'topright')\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize right\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize bottomright\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomright')\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize bottom\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize bottomleft\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottomleft')\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize left\\\">\\n                <span class=\\\"square\\\"></span>\\n            </span>\\n            <span class=\\\"resize-bar top\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'top')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'top')\\\">\\n            </span>\\n            <span class=\\\"resize-bar right\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'right')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'right')\\\">\\n            </span>\\n            <span class=\\\"resize-bar bottom\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'bottom')\\\">\\n            </span>\\n            <span class=\\\"resize-bar left\\\"\\n                  (mousedown)=\\\"startMove($event, moveTypes.Resize, 'left')\\\"\\n                  (touchstart)=\\\"startMove($event, moveTypes.Resize, 'left')\\\">\\n            </span>\\n        </ng-container>\\n    </div>\\n</div>\\n\",\n                    changeDetection: ChangeDetectionStrategy.OnPush,\n                    styles: [\":host{display:flex;position:relative;width:100%;max-width:100%;max-height:100%;overflow:hidden;padding:5px;text-align:center}:host>div{width:100%;position:relative}:host>div img.source-image{max-width:100%;max-height:100%;transform-origin:center}:host .overlay{position:absolute;pointer-events:none;touch-action:none;outline:#fff solid 100vw;top:0;left:0}:host .cropper{position:absolute;display:flex;color:#53535c;background:0 0;outline:rgba(255,255,255,.3) solid 100vw;outline:var(--cropper-outline-color,rgba(255,255,255,.3)) solid 100vw;touch-action:none}:host .cropper:after{position:absolute;content:\\\"\\\";top:0;bottom:0;left:0;right:0;pointer-events:none;border:1px dashed;opacity:.75;color:inherit;z-index:1}:host .cropper .move{width:100%;cursor:move;border:1px solid rgba(255,255,255,.5)}:host .cropper:focus .move{border-color:#1e90ff;border-width:2px}:host .cropper .resize{position:absolute;display:inline-block;line-height:6px;padding:8px;opacity:.85;z-index:1}:host .cropper .resize .square{display:inline-block;background:#53535c;width:6px;height:6px;border:1px solid rgba(255,255,255,.5);box-sizing:content-box}:host .cropper .resize.topleft{top:-12px;left:-12px;cursor:nwse-resize}:host .cropper .resize.top{top:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.topright{top:-12px;right:-12px;cursor:nesw-resize}:host .cropper .resize.right{top:calc(50% - 12px);right:-12px;cursor:ew-resize}:host .cropper .resize.bottomright{bottom:-12px;right:-12px;cursor:nwse-resize}:host .cropper .resize.bottom{bottom:-12px;left:calc(50% - 12px);cursor:ns-resize}:host .cropper .resize.bottomleft{bottom:-12px;left:-12px;cursor:nesw-resize}:host .cropper .resize.left{top:calc(50% - 12px);left:-12px;cursor:ew-resize}:host .cropper .resize-bar{position:absolute;z-index:1}:host .cropper .resize-bar.top{top:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.right{top:11px;right:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper .resize-bar.bottom{bottom:-11px;left:11px;width:calc(100% - 22px);height:22px;cursor:ns-resize}:host .cropper .resize-bar.left{top:11px;left:-11px;height:calc(100% - 22px);width:22px;cursor:ew-resize}:host .cropper.rounded{outline-color:transparent}:host .cropper.rounded:after{border-radius:100%;box-shadow:0 0 0 100vw rgba(255,255,255,.3);box-shadow:0 0 0 100vw var(--cropper-outline-color,rgba(255,255,255,.3))}@media (orientation:portrait){:host .cropper{outline-width:100vh}:host .cropper.rounded:after{box-shadow:0 0 0 100vh rgba(255,255,255,.3);box-shadow:0 0 0 100vh var(--cropper-outline-color,rgba(255,255,255,.3))}}:host .cropper.rounded .move{border-radius:100%}:host.disabled .cropper .move,:host.disabled .cropper .resize,:host.disabled .cropper .resize-bar{display:none}\"]\n                }] }\n    ];\n    /** @nocollapse */\n    ImageCropperComponent.ctorParameters = function () { return [\n        { type: DomSanitizer },\n        { type: ChangeDetectorRef }\n    ]; };\n    ImageCropperComponent.propDecorators = {\n        wrapper: [{ type: ViewChild, args: ['wrapper', { static: true },] }],\n        sourceImage: [{ type: ViewChild, args: ['sourceImage', { static: false },] }],\n        imageChangedEvent: [{ type: Input }],\n        imageURL: [{ type: Input }],\n        imageBase64: [{ type: Input }],\n        imageFile: [{ type: Input }],\n        format: [{ type: Input }],\n        maintainAspectRatio: [{ type: Input }],\n        transform: [{ type: Input }],\n        aspectRatio: [{ type: Input }],\n        resizeToWidth: [{ type: Input }],\n        resizeToHeight: [{ type: Input }],\n        cropperMinWidth: [{ type: Input }],\n        cropperMinHeight: [{ type: Input }],\n        canvasRotation: [{ type: Input }],\n        initialStepSize: [{ type: Input }],\n        roundCropper: [{ type: Input }],\n        onlyScaleDown: [{ type: Input }],\n        imageQuality: [{ type: Input }],\n        autoCrop: [{ type: Input }],\n        backgroundColor: [{ type: Input }],\n        containWithinAspectRatio: [{ type: Input }],\n        hideResizeSquares: [{ type: Input }],\n        cropper: [{ type: Input }],\n        alignImage: [{ type: HostBinding, args: ['style.text-align',] }, { type: Input }],\n        disabled: [{ type: HostBinding, args: ['class.disabled',] }, { type: Input }],\n        imageCropped: [{ type: Output }],\n        startCropImage: [{ type: Output }],\n        imageLoaded: [{ type: Output }],\n        cropperReady: [{ type: Output }],\n        loadImageFailed: [{ type: Output }],\n        onResize: [{ type: HostListener, args: ['window:resize',] }],\n        moveImg: [{ type: HostListener, args: ['document:mousemove', ['$event'],] }, { type: HostListener, args: ['document:touchmove', ['$event'],] }],\n        onPinch: [{ type: HostListener, args: ['document:pinchmove', ['$event'],] }],\n        moveStop: [{ type: HostListener, args: ['document:mouseup',] }, { type: HostListener, args: ['document:touchend',] }],\n        pinchStop: [{ type: HostListener, args: ['document:pinchend',] }]\n    };\n    return ImageCropperComponent;\n}());\nif (false) {\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.Hammer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.originalImage;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.transformedImage;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.originalBase64;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.transformedBase64;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.moveStart;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.originalSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.transformedSize;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.setImageMaxSizeRetries;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropperScaledMinWidth;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cropperScaledMinHeight;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.exifTransform;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.autoRotateSupported;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.stepSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeImgDataUrl;\n    /** @type {?} */\n    ImageCropperComponent.prototype.safeTransformStyle;\n    /** @type {?} */\n    ImageCropperComponent.prototype.marginLeft;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maxSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageVisible;\n    /** @type {?} */\n    ImageCropperComponent.prototype.moveTypes;\n    /** @type {?} */\n    ImageCropperComponent.prototype.wrapper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.sourceImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageChangedEvent;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageURL;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageBase64;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageFile;\n    /** @type {?} */\n    ImageCropperComponent.prototype.format;\n    /** @type {?} */\n    ImageCropperComponent.prototype.maintainAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.transform;\n    /** @type {?} */\n    ImageCropperComponent.prototype.aspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.resizeToHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinWidth;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperMinHeight;\n    /** @type {?} */\n    ImageCropperComponent.prototype.canvasRotation;\n    /** @type {?} */\n    ImageCropperComponent.prototype.initialStepSize;\n    /** @type {?} */\n    ImageCropperComponent.prototype.roundCropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.onlyScaleDown;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageQuality;\n    /** @type {?} */\n    ImageCropperComponent.prototype.autoCrop;\n    /** @type {?} */\n    ImageCropperComponent.prototype.backgroundColor;\n    /** @type {?} */\n    ImageCropperComponent.prototype.containWithinAspectRatio;\n    /** @type {?} */\n    ImageCropperComponent.prototype.hideResizeSquares;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropper;\n    /** @type {?} */\n    ImageCropperComponent.prototype.alignImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.disabled;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageCropped;\n    /** @type {?} */\n    ImageCropperComponent.prototype.startCropImage;\n    /** @type {?} */\n    ImageCropperComponent.prototype.imageLoaded;\n    /** @type {?} */\n    ImageCropperComponent.prototype.cropperReady;\n    /** @type {?} */\n    ImageCropperComponent.prototype.loadImageFailed;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.sanitizer;\n    /**\n     * @type {?}\n     * @private\n     */\n    ImageCropperComponent.prototype.cd;\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nvar ImageCropperModule = /** @class */ (function () {\n    function ImageCropperModule() {\n    }\n    ImageCropperModule.decorators = [\n        { type: NgModule, args: [{\n                    imports: [\n                        CommonModule\n                    ],\n                    declarations: [\n                        ImageCropperComponent\n                    ],\n                    exports: [\n                        ImageCropperComponent\n                    ]\n                },] }\n    ];\n    return ImageCropperModule;\n}());\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @param {?} base64Image\n * @return {?}\n */\nfunction base64ToFile(base64Image) {\n    /** @type {?} */\n    var split = base64Image.split(',');\n    /** @type {?} */\n    var type = split[0].replace('data:', '').replace(';base64', '');\n    /** @type {?} */\n    var byteString = atob(split[1]);\n    /** @type {?} */\n    var ab = new ArrayBuffer(byteString.length);\n    /** @type {?} */\n    var ia = new Uint8Array(ab);\n    for (var i = 0; i < byteString.length; i += 1) {\n        ia[i] = byteString.charCodeAt(i);\n    }\n    return new Blob([ab], { type: type });\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { ImageCropperComponent, ImageCropperModule, base64ToFile };\n//# sourceMappingURL=ngx-image-cropper.js.map\n","<div [style.background]=\"imageVisible && backgroundColor\"\n     (pinchstart)=\"startPinch($event)\"\n     #wrapper\n>\n    <img\n      #sourceImage\n      class=\"source-image\"\n      *ngIf=\"safeImgDataUrl\"\n      [src]=\"safeImgDataUrl\"\n      [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\n      [style.transform]=\"safeTransformStyle\"\n      (load)=\"imageLoadedInView()\"\n    />\n    <div\n        class=\"overlay\"\n        [style.width.px]=\"maxSize.width\"\n        [style.height.px]=\"maxSize.height\"\n        [style.margin-left]=\"alignImage === 'center' ? marginLeft : null\"\n    ></div>\n    <div class=\"cropper\"\n         *ngIf=\"imageVisible\"\n         [class.rounded]=\"roundCropper\"\n         [style.top.px]=\"cropper.y1\"\n         [style.left.px]=\"cropper.x1\"\n         [style.width.px]=\"cropper.x2 - cropper.x1\"\n         [style.height.px]=\"cropper.y2 - cropper.y1\"\n         [style.margin-left]=\"alignImage === 'center' ? marginLeft : null\"\n         [style.visibility]=\"imageVisible ? 'visible' : 'hidden'\"\n         (keydown)=\"keyboardAccess($event)\"\n         tabindex=\"0\"\n    >\n        <div\n            (mousedown)=\"startMove($event, moveTypes.Move)\"\n            (touchstart)=\"startMove($event, moveTypes.Move)\"\n            class=\"move\">\n        </div>\n        <ng-container *ngIf=\"!hideResizeSquares\">\n            <span class=\"resize topleft\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'topleft')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'topleft')\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize top\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize topright\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'topright')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'topright')\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize right\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize bottomright\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottomright')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottomright')\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize bottom\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize bottomleft\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottomleft')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottomleft')\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize left\">\n                <span class=\"square\"></span>\n            </span>\n            <span class=\"resize-bar top\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'top')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'top')\">\n            </span>\n            <span class=\"resize-bar right\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'right')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'right')\">\n            </span>\n            <span class=\"resize-bar bottom\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'bottom')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'bottom')\">\n            </span>\n            <span class=\"resize-bar left\"\n                  (mousedown)=\"startMove($event, moveTypes.Resize, 'left')\"\n                  (touchstart)=\"startMove($event, moveTypes.Resize, 'left')\">\n            </span>\n        </ng-container>\n    </div>\n</div>\n","<div class=\"content-heading\">\r\n    <div>\r\n        💻 {{ 'general.clients' | translate }} - <b>{{'general.add' | translate}}</b>\r\n        <small><b [innerHTML]=\"'client.ClientDescription' | translate\"></b></small>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"card card-default\">\r\n    <div class=\"card-body\">\r\n        <a [routerLink]=\"[ '/clients' ]\" class=\"btn btn-outline-primary\">{{ 'general.goback' | translate }}</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n\r\n<app-loading *ngIf=\"model == null || showButtonLoading\"></app-loading>\r\n\r\n<div class=\"card card-default\">\r\n    <div class=\"card-header\">\r\n        <h3>{{ client }}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n\r\n        <div class=\"form-horizontal\">\r\n            <fieldset>\r\n                <div class=\"form-group row\">\r\n                    <label placement=\"top\" [tooltip]=\"'client.details.clientId-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                        'client.details.clientId' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n                    <div class=\"col-xl-9\">\r\n                        <input class=\"form-control\" autocomplete=\"client-id\" placeholder=\"ClientId\" [(ngModel)]=\"model.clientId\" />\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n            <fieldset>\r\n                <div class=\"form-group row\">\r\n                    <label placement=\"top\" [tooltip]=\"'client.details.name-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                        'client.details.name' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n                    <div class=\"col-xl-9\">\r\n                        <input class=\"form-control\" autocomplete=\"client-name\" placeholder=\"Name\" [(ngModel)]=\"model.clientName\" />\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n\r\n            <!--Input - text -->\r\n            <fieldset>\r\n                <div class=\"form-group row\">\r\n                    <label placement=\"top\" [tooltip]=\"'client.details.description-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                        'client.details.description' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n                    <div class=\"col-xl-9\">\r\n                        <input class=\"form-control\" autocomplete=\"client-description\" [placeholder]=\"'client.details.description-tooltip' | translate\" [(ngModel)]=\"model.description\" />\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n\r\n            <!--Input - text -->\r\n            <fieldset>\r\n                <div class=\"form-group row\">\r\n                    <label placement=\"top\" [tooltip]=\"'client.details.clientUri-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                        'client.details.clientUri' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n                    <div class=\"col-xl-9\">\r\n                        <input class=\"form-control\" autocomplete=\"client-clientUri\" [placeholder]=\"'client.details.clientUri-tooltip' | translate\" [(ngModel)]=\"model.clientUri\" />\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n\r\n            <!--Input - text -->\r\n            <fieldset>\r\n                <div class=\"form-group row\">\r\n                    <label placement=\"top\" [tooltip]=\"'client.details.postLogoutRedirectUris-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                        'client.details.postLogoutRedirectUris' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n                    <div class=\"col-xl-9\">\r\n                        <input class=\"form-control\" autocomplete=\"client-postLogoutRedirectUris\" [placeholder]=\"'client.details.postLogoutRedirectUris-tooltip' | translate\" [(ngModel)]=\"model.postLogoutRedirectUris\" />\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n\r\n            <!--Input - text -->\r\n            <fieldset>\r\n                <div class=\"form-group row\">\r\n                    <label placement=\"top\" [tooltip]=\"'client.details.logoUri-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                        'client.details.logoUri' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n                    <div class=\"col-xl-9\">\r\n                        <div *ngIf=\"settings.lightVersion\">\r\n                            <input class=\"form-control\" autocomplete=\"client-logoUri\" [placeholder]=\"'client.details.logoUri-tooltip' | translate\" [(ngModel)]=\"model.logoUri\" />\r\n                        </div>\r\n                        <div *ngIf=\"!settings.lightVersion\">\r\n                            <div class=\"row\" *ngIf=\"showCropper\">\r\n                                <div class=\"col-lg-3 col-md-12 justify-content-center\">\r\n                                    <img [src]=\"croppedImage\" class=\"img-thumbnail\" />\r\n                                </div>\r\n                                <div class=\"col-lg-9 col-md-12\">\r\n                                    <image-cropper [imageChangedEvent]=\"imageChangedEvent\" [maintainAspectRatio]=\"false\" format=\"png\" (imageCropped)=\"imageCropped($event)\" (imageLoaded)=\"imageLoaded()\" (loadImageFailed)=\"loadImageFailed()\" outputType=\"base64\"></image-cropper>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <div class=\"input-group mb-3\">\r\n                                    <input class=\"form-control\" autocomplete=\"client-logoUri\" *ngIf=\"!showCropper\" [placeholder]=\"'client.details.logoUri-tooltip' | translate\" [(ngModel)]=\"model.logoUri\" />\r\n                                    <label for=\"image-input\" class=\"file-upload\">\r\n                                    <button class=\"btn btn-secondary btn-block\">Upload Image</button>\r\n                                    <input id=\"image-input\" type=\"file\" (change)=\"fileChangeEvent($event)\">\r\n                                </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </fieldset>\r\n        </div>\r\n\r\n        <div class=\"col-xl-12\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                    <!-- START card-->\r\n                    <div class=\"card bg-primary pointer\" (click)=\"selectClient(0)\">\r\n                        <div class=\"card-body text-center\">\r\n                            <div class=\"text-lg m-0\">🗋</div>\r\n                            <p>{{'general.empty' | translate }}</p>\r\n                            <small>Default</small>\r\n                            <div class=\"mb-3\"></div>\r\n                            <button class=\"btn btn-oval btn-secondary text-success btn-xs\" *ngIf=\"model.clientType == 0\"><i class=\"fa fa-check\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END card-->\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <!-- START card-->\r\n                    <div class=\"card bg-info pointer\" (click)=\"selectClient(1)\">\r\n                        <div class=\"card-body text-center\">\r\n                            <div class=\"text-lg m-0\">🖥️</div>\r\n                            <p>Web App - Server Side (MVC)</p>\r\n                            <small>Authorization Code Flow</small>\r\n                            <div class=\"mb-3\"></div>\r\n                            <button class=\"btn btn-oval btn-secondary text-success btn-xs\" *ngIf=\"model.clientType == 1\"><i class=\"fa fa-check\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END card-->\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <!-- START card-->\r\n                    <div class=\"card bg-warning pointer\" (click)=\"selectClient(2)\">\r\n                        <div class=\"card-body text-center\">\r\n                            <div class=\"text-lg m-0\">🖥️️</div>\r\n                            <p>Web App - Server Side (MVC)</p>\r\n                            <small>Hybrid Flow</small>\r\n                            <div class=\"mb-3\"></div>\r\n                            <button class=\"btn btn-oval btn-secondary text-success btn-xs\" *ngIf=\"model.clientType == 2\"><i class=\"fa fa-check\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END card-->\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4\">\r\n                    <!-- START card-->\r\n                    <div class=\"card bg-success pointer\" (click)=\"selectClient(3)\">\r\n                        <div class=\"card-body text-center\">\r\n                            <div class=\"text-lg m-0\">💻</div>\r\n                            <p>SPA - Single Page Application (e.g Angular, Blazor)</p>\r\n                            <small>Authorization Code Flow</small>\r\n                            <div class=\"mb-3\"></div>\r\n                            <button class=\"btn btn-oval btn-secondary text-success btn-xs\" *ngIf=\"model.clientType == 3\"><i class=\"fa fa-check\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END card-->\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <!-- START card-->\r\n                    <div class=\"card bg-purple pointer\" (click)=\"selectClient(4)\">\r\n                        <div class=\"card-body text-center\">\r\n                            <div class=\"text-lg m-0\">📱</div>\r\n                            <p>Native Application - Mobile / Desktop<br>&nbsp;</p>\r\n                            <small>Authorization Code Flow</small>\r\n                            <div class=\"mb-3\"></div>\r\n                            <button class=\"btn btn-oval btn-secondary text-success btn-xs\" *ngIf=\"model.clientType == 4\"><i class=\"fa fa-check\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END card-->\r\n                </div>\r\n                <div class=\"col-md-4\">\r\n                    <!-- START card-->\r\n                    <div class=\"card bg-yellow-dark pointer\" (click)=\"selectClient(5)\">\r\n                        <div class=\"card-body text-center\">\r\n                            <div class=\"text-lg m-0\"><i class=\"fa fa-server\"></i></div>\r\n                            <p>Server</p>\r\n                            <small>Client Credentials flow</small>\r\n                            <div class=\"mb-3\"></div>\r\n                            <button class=\"btn btn-oval btn-secondary text-success btn-xs\" *ngIf=\"model.clientType == 5\"><i class=\"fa fa-check\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END card-->\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-md-4 offset-4\">\r\n                    <!-- START card-->\r\n                    <div class=\"card bg-dark pointer\" (click)=\"selectClient(6)\">\r\n                        <div class=\"card-body text-center text-light\">\r\n                            <div class=\"text-lg m-0\">📺</div>\r\n                            <p>Devices - TVs, gaming consoles, printers, cash registers, audio appliances etc</p>\r\n                            <small>Device Flow</small>\r\n                            <div class=\"mb-3\"></div>\r\n                            <button class=\"btn btn-oval btn-secondary text-success btn-xs\" *ngIf=\"model.clientType == 6\"><i class=\"fa fa-check\"></i></button>\r\n                        </div>\r\n                    </div>\r\n                    <!-- END card-->\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"card-footer\">\r\n        <button class=\"mb-1 btn btn-primary\" (click)=\"save()\" type=\"button\">Save</button>\r\n        <a class=\"mb-1 btn btn-secondary\" [routerLink]=\"['/clients']\">Cancel</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n<toaster-container [toasterconfig]=\"toasterconfig\"></toaster-container>","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ClientService } from '@app/clients/clients.service';\r\nimport { SettingsService } from '@core/settings/settings.service';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { NewClient } from '@shared/viewModel/client.model';\r\nimport { ProblemDetails } from '@shared/viewModel/default-response.model';\r\nimport { FileViewModel } from '@shared/viewModel/file.model';\r\nimport { ToasterConfig, ToasterService } from 'angular2-toaster';\r\nimport { ImageCroppedEvent } from 'ngx-image-cropper';\r\nimport { Observable } from 'rxjs';\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-add\",\r\n    templateUrl: \"./add.component.html\",\r\n    styleUrls: [\"./add.component.scss\"],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ClientAddComponent implements OnInit {\r\n\r\n    public errors: Array<string>;\r\n\r\n    public model: NewClient;\r\n\r\n    public toasterconfig: ToasterConfig = new ToasterConfig({\r\n        positionClass: 'toast-top-right',\r\n        showCloseButton: true\r\n    });\r\n    public showButtonLoading: boolean;\r\n    public client: string;\r\n    public bsConfig = {\r\n        containerClass: 'theme-angle'\r\n    };\r\n\r\n    // Image settings\r\n    public imageChangedEvent: any = '';\r\n    public fileData: ImageCroppedEvent;\r\n    public croppedImage: any = '';\r\n    public showCropper = false;\r\n    public file: any;\r\n\r\n    constructor(\r\n        private router: Router,\r\n        public translator: TranslatorService,\r\n        private clientService: ClientService,\r\n        public toasterService: ToasterService,\r\n        public settings: SettingsService) { }\r\n\r\n    public ngOnInit() {\r\n        this.errors = [];\r\n        this.model = new NewClient();\r\n        this.showButtonLoading = false;\r\n    }\r\n\r\n    public showSuccessMessage() {\r\n        this.translator.translate.get('toasterMessages').subscribe(a => {\r\n            this.toasterService.pop(\"success\", a[\"title-success\"], a[\"message-success\"]);\r\n        });\r\n    }\r\n\r\n    public selectClient(type: number) {\r\n        this.model.clientType = type;\r\n    }\r\n\r\n\r\n    public save() {\r\n        this.showButtonLoading = true;\r\n        if(this.fileData != null){\r\n            this.model.logo = new FileViewModel(this.file.name, this.file.type, this.fileData.base64.split(',')[1]);\r\n        }\r\n        this.clientService.save(this.model).subscribe(\r\n            registerResult => {\r\n                if (registerResult) {\r\n                    this.showSuccessMessage();\r\n                    this.router.navigate(['/clients', this.model.clientId, 'edit']);\r\n                }\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n\r\n    fileChangeEvent(event: any): void {\r\n        if (event == null || event.target == null)\r\n            return;\r\n\r\n        const fileToUpload = event.target.files.item(0);\r\n        this.file = fileToUpload;\r\n        const reader = new FileReader();\r\n\r\n        reader.readAsDataURL(fileToUpload);\r\n\r\n        this.imageChangedEvent = event;\r\n        this.showCropper = true;\r\n    }\r\n    imageCropped(event: ImageCroppedEvent) {\r\n        this.fileData = event;\r\n        this.croppedImage = event.base64;\r\n    }\r\n    imageLoaded() {\r\n        this.showCropper = true;\r\n    }\r\n    loadImageFailed() {\r\n        // show message\r\n    }\r\n\r\n}\r\n","<div class=\"content-heading\">\r\n    <div>\r\n        💻 {{ 'general.clients' | translate }} - <b>Claims</b>\r\n        <small><b [innerHTML]=\"'client.ClaimDescription' | translate\"></b></small>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"card card-default\">\r\n    <div class=\"card-body\">\r\n        <a [routerLink]=\"['/clients', client, 'edit']\" class=\"btn btn-outline-primary\">{{ 'general.goback' | translate }}</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n\r\n<app-loading *ngIf=\"model == null || showButtonLoading\"></app-loading>\r\n\r\n<div class=\"card card-default\" *ngIf=\"claims && claims.length > 0\">\r\n    <div class=\"card-header\">\r\n        <h3>{{ client }}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <table class=\"table table-striped\">\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>{{ 'client.claims.type' | translate }}</th>\r\n                    <th>{{ 'client.claims.value' | translate }}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let claim of claims\">\r\n                    <td><button class=\"btn btn-danger btn-xs\" placement=\"top\" [tooltip]=\"'general.remove' | translate\" (click)=\"remove(claim)\"><i class=\"fa fa-times\"></i></button></td>\r\n                    <td>{{claim.type}}</td>\r\n                    <td>{{claim.value}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"card card-default\">\r\n    <div class=\"card-header\">\r\n        <h3>{{ client }}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n\r\n        <!--Select with tags-->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'client.claims.type' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'client.claims.type-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <input class=\"form-control\" autocomplete=\"claims-type\" [placeholder]=\"'client.claims.type-tooltip' | translate\" [(ngModel)]=\"model.type\" />\r\n                </div>\r\n                <div class=\"col-xl-9 offset-3\">\r\n                    <small>Sugestions</small>\r\n                    <br>\r\n                    <button class=\"btn btn-xs btn-outline-info\" *ngFor=\"let item of standardClaims\" (click)=\"selectType(item)\">{{item}} <i class=\"fa fa-plus-circle\"></i>&nbsp;</button>\r\n\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n        <!--Input - text -->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'client.claims.value' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'client.claims.value-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <input class=\"form-control\" autocomplete=\"claims-value\" [placeholder]=\"'client.claims.value-tooltip' | translate\" [(ngModel)]=\"model.value\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n    </div>\r\n    <div class=\"card-footer\">\r\n        <button class=\"mb-1 btn btn-primary\" (click)=\"save()\" type=\"button\">Save</button>\r\n        <a class=\"mb-1 btn btn-secondary\" [routerLink]=\"['/clients', client, 'edit']\">Cancel</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n<toaster-container [toasterconfig]=\"toasterconfig\"></toaster-container>","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClientService } from '@app/clients/clients.service';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { ScopeService } from '@shared/services/scope.service';\r\nimport { ClientClaim } from '@shared/viewModel/client.model';\r\nimport { ProblemDetails } from '@shared/viewModel/default-response.model';\r\nimport { StandardClaims } from '@shared/viewModel/standard-claims.model';\r\nimport { ToasterConfig, ToasterService } from 'angular2-toaster';\r\nimport { Observable } from 'rxjs';\r\nimport { flatMap, map, tap } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-claim\",\r\n    templateUrl: \"./claims.component.html\",\r\n    styleUrls: [\"./claims.component.scss\"],\r\n    providers: [ClientService, ScopeService],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ClientClaimsComponent implements OnInit {\r\n\r\n    public errors: Array<string>;\r\n    public claimsSuggested: Array<string>;\r\n    public model: ClientClaim;\r\n    public claims: ClientClaim[];\r\n\r\n    public toasterconfig: ToasterConfig = new ToasterConfig({\r\n        positionClass: 'toast-top-right',\r\n        showCloseButton: true\r\n    });\r\n    public showButtonLoading: boolean;\r\n    public client: string;\r\n    public bsConfig = {\r\n        containerClass: 'theme-angle'\r\n    };\r\n    public standardClaims: string[];\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        public translator: TranslatorService,\r\n        private clientService: ClientService,\r\n        public toasterService: ToasterService) { }\r\n\r\n    public ngOnInit() {\r\n        this.route.params.pipe(tap(p => this.client = p[\"clientId\"])).pipe(map(p => p[\"clientId\"])).pipe(flatMap(m => this.clientService.getClientClaims(m.toString()))).subscribe(result => this.claims = result);\r\n        this.errors = [];\r\n        this.model = new ClientClaim();\r\n        this.showButtonLoading = false;\r\n        this.standardClaims = StandardClaims.claims;\r\n    }\r\n\r\n    public showSuccessMessage() {\r\n        this.translator.translate.get('toasterMessages').subscribe(a => {\r\n            this.toasterService.pop(\"success\", a[\"title-success\"], a[\"message-success\"]);\r\n        });\r\n    }\r\n\r\n    public selectType(type: string) {\r\n        this.model.type = type;\r\n    }\r\n\r\n\r\n    public remove(claim: ClientClaim) {\r\n\r\n        this.showButtonLoading = true;\r\n        this.errors = [];\r\n        this.clientService.removeClaim(this.client, claim.type, claim.value).subscribe(\r\n            () => {\r\n                this.showSuccessMessage();\r\n                this.loadClaims();\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    private loadClaims(): void {\r\n        this.clientService.getClientClaims(this.client).subscribe(c => this.claims = c);\r\n    }\r\n\r\n    public save() {\r\n        this.showButtonLoading = true;\r\n        this.errors = [];\r\n        this.model.clientId = this.client;\r\n        this.clientService.saveClaim(this.model).subscribe(\r\n            claims => {\r\n                this.showSuccessMessage();\r\n                this.claims = claims;\r\n                this.model = new ClientClaim();\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n    }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SharedModule } from '@shared/shared.module';\r\nimport { ToasterModule, ToasterService } from 'angular2-toaster';\r\nimport { TagInputModule } from 'ngx-chips';\r\nimport { ImageCropperModule } from 'ngx-image-cropper';\r\n\r\nimport { ClientAddComponent } from './add/add.component';\r\nimport { ClientClaimsComponent } from './claims/claims.component';\r\nimport { ClientService } from './clients.service';\r\nimport { ClientAuthComponent } from './edit/auth/auth.component';\r\nimport { ClientBasicComponent } from './edit/basic/basic.component';\r\nimport { ClientEditComponent } from './edit/client-edit.component';\r\nimport { ClientDeviceFlowComponent } from './edit/device-flow/device-flow.component';\r\nimport { ClientSettingsComponent } from './edit/settings/settings.component';\r\nimport { ClientTokenComponent } from './edit/token/token.component';\r\nimport { ClientListComponent } from './list/clients-list.component';\r\nimport { ClientPropertiesComponent } from './properties/properties.component';\r\nimport { ClientSecretsComponent } from './secrets/secrets.component';\r\n\r\nconst routes: Routes = [\r\n    { path: \"\", component: ClientListComponent },\r\n    { path: \":clientId/edit\", component: ClientEditComponent },\r\n    { path: \":clientId/secrets\", component: ClientSecretsComponent },\r\n    { path: \":clientId/properties\", component: ClientPropertiesComponent },\r\n    { path: \":clientId/claims\", component: ClientClaimsComponent },\r\n    { path: \"add\", component: ClientAddComponent },\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        SharedModule,\r\n        ToasterModule.forRoot(),\r\n        RouterModule.forChild(routes),\r\n        ToasterModule.forRoot(),\r\n        TagInputModule,\r\n        ImageCropperModule\r\n    ],\r\n    declarations: [\r\n        ClientListComponent,\r\n        ClientEditComponent,\r\n        ClientSettingsComponent,\r\n        ClientAuthComponent,\r\n        ClientTokenComponent,\r\n        ClientDeviceFlowComponent,\r\n        ClientBasicComponent,\r\n        ClientSecretsComponent,\r\n        ClientPropertiesComponent,\r\n        ClientClaimsComponent,\r\n        ClientAddComponent\r\n    ],\r\n    providers: [\r\n        ClientService\r\n    ],\r\n    exports: [\r\n        RouterModule\r\n    ]\r\n})\r\nexport class ClientsModule { }\r\n","import { HttpClient, HttpParams, HttpResponse } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from '@env/environment';\r\nimport { ClientList } from '@shared/viewModel/client-list.model';\r\nimport { Client, ClientClaim, ClientProperty, ClientSecret, NewClient } from '@shared/viewModel/client.model';\r\nimport { ProblemDetails } from '@shared/viewModel/default-response.model';\r\nimport { Operation } from 'fast-json-patch';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ClientService {\r\n    endpoint: string;\r\n\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.endpoint = environment.ResourceServer + \"api/clients\";\r\n    }\r\n\r\n\r\n    public getClients(): Observable<ClientList[]> {\r\n        return this.http.get<ClientList[]>(this.endpoint);\r\n    }\r\n\r\n    public getClientDetails(clientId: string): Observable<Client> {\r\n        return this.http.get<Client>(`${this.endpoint}/${clientId}`);\r\n    }\r\n\r\n    public save(model: NewClient): Observable<Client> {\r\n        return this.http.post<Client>(this.endpoint, model);\r\n    }\r\n\r\n    public update(client: string, model: Client): Observable<void> {\r\n        return this.http.put<void>(`${this.endpoint}/${client}`, model);\r\n    }\r\n\r\n    public partialUpdate(client: string, patch: Operation[]): Observable<void> {\r\n        return this.http.patch<void>(`${this.endpoint}/${client}`, patch);\r\n    }\r\n\r\n    public copy(clientId: string): Observable<Client> {\r\n        const command = {};\r\n        return this.http.post<Client>(`${this.endpoint}/${clientId}/copy`, command);\r\n    }\r\n\r\n    public remove(clientId: string): Observable<void> {\r\n        return this.http.delete<void>(`${this.endpoint}/${clientId}`);\r\n    }\r\n\r\n    public getClientSecrets(clientId: string): Observable<ClientSecret[]> {\r\n        return this.http.get<ClientSecret[]>(`${this.endpoint}/${clientId}/secrets`);\r\n    }\r\n\r\n    public removeSecret(client: string, type: string, value: string): Observable<void> {\r\n        const params = new HttpParams()\r\n                            .set('type', type)\r\n                            .set('value', encodeURIComponent(value));\r\n\r\n        return this.http.delete<void>(`${this.endpoint}/${client}/secrets`, { params });\r\n    }\r\n\r\n    public saveSecret(model: ClientSecret): Observable<ClientSecret[]> {\r\n        return this.http.post<ClientSecret[]>(`${this.endpoint}/${model.clientId}/secrets`, model);\r\n    }\r\n\r\n    public getClientProperties(clientId: string): Observable<ClientProperty[]> {\r\n        return this.http.get<ClientProperty[]>(`${this.endpoint}/${clientId}/properties`);\r\n    }\r\n\r\n    public removeProperty(client: string, key: string): Observable<void> {\r\n        return this.http.delete<void>(`${this.endpoint}/${client}/properties/${key}`);\r\n    }\r\n\r\n    public saveProperty(model: ClientProperty): Observable<ClientProperty[]> {\r\n        return this.http.post<ClientProperty[]>(`${this.endpoint}/${model.clientId}/properties`, model);\r\n    }\r\n\r\n    public getClientClaims(clientId: string): Observable<ClientClaim[]> {\r\n        return this.http.get<ClientClaim[]>(`${this.endpoint}/${clientId}/claims`);\r\n    }\r\n\r\n    public removeClaim(client: string, type: string, value: string): Observable<void> {\r\n        const params = new HttpParams()\r\n                            .set('type', type)\r\n                            .set('value', value);\r\n        return this.http.delete<void>(`${this.endpoint}/${client}/claims`, { params });\r\n    }\r\n\r\n    public saveClaim(model: ClientClaim): Observable<ClientClaim[]> {\r\n        return this.http.post<ClientClaim[]>(`${this.endpoint}/${model.clientId}/claims`, model);\r\n    }\r\n}\r\n","<div class=\"form-horizontal\">\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\" placement=\"top\" [tooltip]=\"'client.details.enableLocalLogin-tooltip' | translate\">{{ 'client.details.enableLocalLogin' | translate }}\r\n                    <i class=\"fa fa-comment-dots\"></i></label>&nbsp;\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.enableLocalLogin\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Select with tags-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.identityProviderRestrictions' | translate }}\r\n                </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.identityProviderRestrictions-tooltip' | translate\" [popoverTitle]=\"'client.details.identityProviderRestrictions' | translate\" placement=\"auto\" container=\"body\" [adaptivePosition]=\"false\"\r\n                    [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\" placement=\"top\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <tag-input theme='bootstrap' name=\"identityProviderRestrictions\" [modelAsStrings]=\"true\" placeholder='+Grant' [(ngModel)]=\"model.identityProviderRestrictions\"></tag-input>\r\n            </div>\r\n            <div class=\"col-xl-8 offset-4\">\r\n                <small>Options:</small>\r\n                <br>\r\n                <button class=\"btn btn-brand btn-facebook\" type=\"button\" (click)=\"addIdentityProvidersRestrictions('Facebook')\" style=\"margin-bottom: 4px\"><i\r\n                        class=\"fab fa-facebook\"></i><span>Facebook</span></button>\r\n                <button class=\"btn btn-brand btn-linkedin\" type=\"button\" (click)=\"addIdentityProvidersRestrictions('LinkedIn')\" style=\"margin-bottom: 4px\"><i\r\n                        class=\"fab fa-linkedin\"></i><span>LinkedIn</span></button>\r\n                <button class=\"btn btn-brand btn-google-plus\" type=\"button\" (click)=\"addIdentityProvidersRestrictions('Google')\" style=\"margin-bottom: 4px\"><i\r\n                        class=\"fab fa-google-plus\"></i><span>Google+</span></button>\r\n\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Select with tags-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.postLogoutRedirectUris-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                'client.details.postLogoutRedirectUris' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-5\">\r\n                <tag-input theme='bootstrap' name=\"postLogoutRedirectUris\" [modelAsStrings]=\"true\" [placeholder]=\"'+' + ('client.details.postLogoutRedirectUris' | translate)\" [(ngModel)]=\"model.postLogoutRedirectUris\"></tag-input>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.frontChannelLogoutUri' | translate }} </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.frontChannelLogoutUri-tooltip' | translate\" [popoverTitle]=\"'client.details.frontChannelLogoutUri' | translate\" placement=\"top\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\"></i>\r\n                </button>\r\n\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-frontChannelLogoutUri\" [placeholder]=\"'client.details.frontChannelLogoutUri-tooltip' | translate\" [(ngModel)]=\"model.frontChannelLogoutUri\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.frontChannelLogoutSessionRequired' | translate }}\r\n                </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.frontChannelLogoutSessionRequired-tooltip' | translate\" [popoverTitle]=\"'client.details.frontChannelLogoutSessionRequired' | translate\" placement=\"top\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.frontChannelLogoutSessionRequired\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.backChannelLogoutUri' | translate }} </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.backChannelLogoutUri-tooltip' | translate\" [popoverTitle]=\"'client.details.backChannelLogoutUri' | translate\" placement=\"top\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-backChannelLogoutUri\" [placeholder]=\"'client.details.backChannelLogoutUri-tooltip' | translate\" [(ngModel)]=\"model.backChannelLogoutUri\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.backChannelLogoutSessionRequired' | translate }}\r\n                </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.backChannelLogoutSessionRequired-tooltip' | translate\" [popoverTitle]=\"'client.details.backChannelLogoutSessionRequired' | translate\" placement=\"top\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.backChannelLogoutSessionRequired\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - Number -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.userSsoLifetime-tooltip' | translate\">{{\r\n                    'client.details.userSsoLifetime' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-userSsoLifetime\" [placeholder]=\"'client.details.userSsoLifetime-tooltip' | translate\" [(ngModel)]=\"model.userSsoLifetime\" numbersOnly />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n\r\n</div>","import { Component, OnInit, Input } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { TranslatorService } from \"@core/translator/translator.service\";\r\nimport { Client } from \"@shared/viewModel/client.model\";\r\n\r\n@Component({\r\n    selector: \"app-client-auth\",\r\n    templateUrl: \"./auth.component.html\",\r\n    styleUrls: [\"./auth.component.scss\"],\r\n})\r\nexport class ClientAuthComponent implements OnInit {\r\n\r\n\r\n    @Input()\r\n    public model: Client;\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        public translator: TranslatorService) { }\r\n\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    public addIdentityProvidersRestrictions(type: string) {\r\n        if (this.model.identityProviderRestrictions.find(a => a == type) == null)\r\n            this.model.identityProviderRestrictions.push(type);\r\n    }\r\n\r\n\r\n}\r\n","<div class=\"form-horizontal\">\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.clientId-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                'client.details.clientId' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <input class=\"form-control\" autocomplete=\"client-id\" placeholder=\"ClientId\" [(ngModel)]=\"model.clientId\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.name-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                'client.details.name' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <input class=\"form-control\" autocomplete=\"client-name\" placeholder=\"Name\" [(ngModel)]=\"model.clientName\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.description-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                'client.details.description' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <input class=\"form-control\" autocomplete=\"client-description\" [placeholder]=\"'client.details.description-tooltip' | translate\" [(ngModel)]=\"model.description\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.clientUri-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                'client.details.clientUri' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <input class=\"form-control\" autocomplete=\"client-clientUri\" [placeholder]=\"'client.details.clientUri-tooltip' | translate\" [(ngModel)]=\"model.clientUri\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.logoUri-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                'client.details.logoUri' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <div *ngIf=\"settings.lightVersion\">\r\n                    <input class=\"form-control\" autocomplete=\"client-logoUri\" [placeholder]=\"'client.details.logoUri-tooltip' | translate\" [(ngModel)]=\"model.logoUri\" />\r\n                </div>\r\n                <div *ngIf=\"!settings.lightVersion\">\r\n                    <div class=\"row\" *ngIf=\"showCropper\">\r\n                        <div class=\"col-lg-3 col-md-12 justify-content-center\">\r\n                            <img [src]=\"croppedImage\" class=\"img-thumbnail\" />\r\n                        </div>\r\n                        <div class=\"col-lg-9 col-md-12\">\r\n                            <image-cropper [imageChangedEvent]=\"imageChangedEvent\" [maintainAspectRatio]=\"false\" format=\"png\" (imageCropped)=\"imageCropped($event)\" (imageLoaded)=\"imageLoaded()\" (loadImageFailed)=\"loadImageFailed()\" outputType=\"base64\"></image-cropper>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"form-group\">\r\n                        <div class=\"input-group mb-3\">\r\n                            <input class=\"form-control\" autocomplete=\"client-logoUri\" *ngIf=\"!showCropper\" [placeholder]=\"'client.details.logoUri-tooltip' | translate\" [(ngModel)]=\"model.logoUri\" />\r\n                            <label for=\"image-input\" class=\"file-upload\">\r\n                            <button class=\"btn btn-secondary btn-block\">Upload Image</button>\r\n                            <input id=\"image-input\" type=\"file\" (change)=\"fileChangeEvent($event)\">\r\n                        </label>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Select with tags-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.allowedCorsOrigins-tooltip' | translate\" class=\"col-xl-3 col-form-label\">{{\r\n                    'client.details.allowedCorsOrigins' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <tag-input theme='bootstrap' name=\"allowedCorsOrigins\" [modelAsStrings]=\"true\" [placeholder]=\"'+' + ('client.details.allowedCorsOrigins' | translate)\" [(ngModel)]=\"model.allowedCorsOrigins\"></tag-input>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { SettingsService } from '@core/settings/settings.service';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { Client } from '@shared/viewModel/client.model';\r\nimport { FileViewModel } from '@shared/viewModel/file.model';\r\nimport { ImageCroppedEvent } from 'ngx-image-cropper';\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-basic\",\r\n    templateUrl: \"./basic.component.html\",\r\n    styleUrls: [\"./basic.component.scss\"],\r\n})\r\nexport class ClientBasicComponent implements OnInit {\r\n\r\n    \r\n    // Image settings\r\n    public imageChangedEvent: any = '';\r\n    public fileData: ImageCroppedEvent;\r\n    public croppedImage: any = '';\r\n    public showCropper = false;\r\n    public file: any;\r\n\r\n    @Input()\r\n    public model: Client;\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        public translator: TranslatorService,\r\n        public settings: SettingsService) { }\r\n\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    fileChangeEvent(event: any): void {\r\n        if (event == null || event.target == null)\r\n            return;\r\n\r\n        const fileToUpload = event.target.files.item(0);\r\n        this.file = fileToUpload;\r\n        const reader = new FileReader();\r\n\r\n        reader.readAsDataURL(fileToUpload);\r\n\r\n        this.imageChangedEvent = event;\r\n        this.showCropper = true;\r\n    }\r\n    imageCropped(event: ImageCroppedEvent) {\r\n        this.model.logo = new FileViewModel(this.file.name, this.file.type, event.base64.split(',')[1]);\r\n        this.croppedImage = event.base64;\r\n    }\r\n    imageLoaded() {\r\n        this.showCropper = true;\r\n    }\r\n    loadImageFailed() {\r\n        // show message\r\n    }\r\n}\r\n","<div class=\"content-heading\">\r\n    <div>\r\n        💻 {{ 'general.clients' | translate }} - <b>Edit</b>\r\n        <small><b> {{ 'client.ClientDescription' | translate }}.</b></small>\r\n    </div>\r\n</div>\r\n\r\n<app-loading *ngIf=\"model == null || showButtonLoading\"></app-loading>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n\r\n<div class=\"card card-default\" *ngIf=\"model\">\r\n    <div class=\"card-header\">\r\n        <h3><img *ngIf=\"model.logoUri\" width=\"150\" [src]=\"model.logoUri\" />&nbsp;{{model.clientName}}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <tabset>\r\n            <tab [heading]=\"'client.details.basic' | translate\">\r\n                <app-client-basic [model]=\"model\"></app-client-basic>\r\n            </tab>\r\n            <tab [heading]=\"'client.details.settings' | translate\">\r\n                <app-client-settings [model]=\"model\"></app-client-settings>\r\n            </tab>\r\n            <tab [heading]=\"'client.details.auth' | translate \">\r\n                <app-client-auth [model]=\"model\"></app-client-auth>\r\n            </tab>\r\n            <tab [heading]=\"'client.details.token' | translate\">\r\n                <app-client-token [model]=\"model\"></app-client-token>\r\n            </tab>\r\n            <tab [heading]=\"'client.details.deviceFlow' | translate\">\r\n                <app-client-device-flow [model]=\"model\"></app-client-device-flow>\r\n            </tab>\r\n        </tabset>\r\n    </div>\r\n    <div class=\"card-footer\">\r\n        <button class=\"mb-1 btn btn-primary\" (click)=\"update()\" type=\"button\">Save</button>\r\n        <a class=\"mb-1 btn btn-secondary\" [routerLink]=\"['/clients']\">Cancel</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n\r\n<toaster-container [toasterconfig]=\"toasterconfig\"></toaster-container>","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClientService } from '@app/clients/clients.service';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { Client } from '@shared/viewModel/client.model';\r\nimport { ProblemDetails } from '@shared/viewModel/default-response.model';\r\nimport { ToasterConfig, ToasterService } from 'angular2-toaster';\r\nimport * as jsonpatch from 'fast-json-patch';\r\nimport { flatMap, tap } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-edit\",\r\n    templateUrl: \"./client-edit.component.html\",\r\n    styleUrls: [\"./client-edit.component.scss\"],\r\n})\r\nexport class ClientEditComponent implements OnInit {\r\n\r\n    public errors: Array<string>;\r\n    public model: Client;\r\n    public toasterconfig: ToasterConfig = new ToasterConfig({\r\n        positionClass: 'toast-top-right',\r\n        showCloseButton: true,\r\n        timeout: 2000\r\n    });\r\n    public showButtonLoading: boolean;\r\n    public clientId: string;\r\n    patchObserver: jsonpatch.Observer<Client>;\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        public translator: TranslatorService,\r\n        private clientService: ClientService,\r\n        public toasterService: ToasterService) { }\r\n\r\n    public ngOnInit() {\r\n        this.route.params.pipe(\r\n                tap(p => this.clientId = p[\"clientId\"]),\r\n                flatMap(p => this.clientService.getClientDetails(p[\"clientId\"])),\r\n                tap(client => this.patchObserver = jsonpatch.observe(client))\r\n                )\r\n            .subscribe(result => this.model = result);\r\n        this.errors = [];\r\n        this.showButtonLoading = false;\r\n    }\r\n\r\n    public update() {\r\n        if (!Client.isValid(this.model, this.errors))\r\n            return;\r\n\r\n        this.showButtonLoading = true;\r\n        this.errors = [];\r\n        \r\n        this.clientService.update(this.clientId, this.model).subscribe(\r\n            () => {\r\n                this.updateCurrentClientId();\r\n                this.showSuccessMessage();\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    private updateCurrentClientId() {\r\n        this.clientId = this.model.clientId;\r\n    }\r\n\r\n    public showSuccessMessage() {\r\n        this.translator.translate.get('toasterMessages').subscribe(a => {\r\n            this.toasterService.pop(\"success\", a[\"title-success\"], a[\"message-success\"]);\r\n        });\r\n    }\r\n\r\n}\r\n","<div class=\"form-horizontal\">\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.userCodeType-tooltip' | translate\"\r\n                class=\"col-xl-3 col-form-label\">{{\r\n                'client.details.userCodeType' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <input class=\"form-control\" [placeholder]=\"'client.details.userCodeType-tooltip' | translate\"\r\n                    [(ngModel)]=\"model.userCodeType\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Input - Number -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-3 col-form-label\" placement=\"top\"\r\n                [tooltip]=\"'client.details.deviceCodeLifetime-tooltip' | translate\">{{\r\n            'client.details.deviceCodeLifetime' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-9\">\r\n                <input class=\"form-control\" autocomplete=\"client-deviceCodeLifetime\"\r\n                    [placeholder]=\"'client.details.deviceCodeLifetime-tooltip' | translate\"\r\n                    [(ngModel)]=\"model.deviceCodeLifetime\" numbersOnly />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n</div>","import { Component, OnInit, Input } from \"@angular/core\";\r\nimport { ActivatedRoute } from \"@angular/router\";\r\nimport { Client } from \"@shared/viewModel/client.model\";\r\nimport { TranslatorService } from \"@core/translator/translator.service\";\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-device-flow\",\r\n    templateUrl: \"./device-flow.component.html\",\r\n    styleUrls: [\"./device-flow.component.scss\"],\r\n})\r\nexport class ClientDeviceFlowComponent implements OnInit {\r\n\r\n\r\n    @Input()\r\n    public model: Client;\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        public translator: TranslatorService) { }\r\n\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n}\r\n","<div class=\"form-horizontal\">\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.enabled-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                'client.details.enabled' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.enabled\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Select with tags-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.allowedScopes-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                    'client.details.allowedScopes' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <tag-input theme='bootstrap' name=\"allowedScopes\" [modelAsStrings]=\"true\" placeholder='+Scope' [(ngModel)]=\"model.allowedScopes\">\r\n                    <tag-input-dropdown [autocompleteObservable]='requestScopeItems'>\r\n                    </tag-input-dropdown>\r\n                </tag-input>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Select with tags-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.redirectUris-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                    'client.details.redirectUris' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <tag-input theme='bootstrap' name=\"redirectUris\" [modelAsStrings]=\"true\" placeholder='+Url' [(ngModel)]=\"model.redirectUris\"></tag-input>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Button-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.clientSecrets-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                    'client.details.clientSecrets' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <a [routerLink]=\"['/clients', model.clientId, 'secrets']\" class=\"btn btn-primary\">{{\r\n                        'client.details.clientSecrets' | translate }}</a>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Select with tags-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.allowedGrantTypes' | translate }} </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.allowedGrantTypes-tooltip' | translate\" [popoverTitle]=\"'client.details.allowedGrantTypes' | translate\" placement=\"auto\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\" placement=\"top\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <tag-input theme='bootstrap' name=\"allowedGrantTypes\" [modelAsStrings]=\"true\" placeholder='+Grant' [(ngModel)]=\"model.allowedGrantTypes\"></tag-input>\r\n            </div>\r\n            <div class=\"col-xl-8 offset-4\">\r\n                <small>Options:</small>\r\n                <br>\r\n                <button class=\"btn btn-oval btn-sm btn-info mb-1\" (click)=\"addGrantType('implicit')\" type=\"button\">implicit&nbsp;&nbsp;<i class=\"fa fa-plus-circle\"></i></button>&nbsp;\r\n                <button class=\"btn btn-oval btn-sm btn-info mb-1\" (click)=\"addGrantType('hybrid')\" type=\"button\">hybrid&nbsp;&nbsp;<i class=\"fa fa-plus-circle\"></i></button>&nbsp;\r\n                <button class=\"btn btn-oval btn-sm btn-info mb-1\" (click)=\"addGrantType('client_credentials')\" type=\"button\">client_credentials&nbsp;&nbsp;<i class=\"fa fa-plus-circle\"></i></button>&nbsp;\r\n                <button class=\"btn btn-oval btn-sm btn-info mb-1\" (click)=\"addGrantType('authorization_code')\" type=\"button\">authorization_code&nbsp;&nbsp;<i class=\"fa fa-plus-circle\"></i></button>&nbsp;\r\n                <button class=\"btn btn-oval btn-sm btn-info mb-1\" (click)=\"addGrantType('password')\" type=\"button\">password&nbsp;&nbsp;<i class=\"fa fa-plus-circle\"></i></button>&nbsp;\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.requireConsent-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                    'client.details.requireConsent' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.requireConsent\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.allowRememberConsent-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                    'client.details.allowRememberConsent' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.allowRememberConsent\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.allowOfflineAccess-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                    'client.details.allowOfflineAccess' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.allowOfflineAccess\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.requireClientSecret-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                    'client.details.requireClientSecret' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.requireClientSecret\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Select-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.protocolType-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                'client.details.protocolType' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <ng-select [items]=\"[model.protocolType]\" [(ngModel)]=\"model.protocolType\" placeholder=\"ProtocolType\">\r\n                </ng-select>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.requirePkce-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                'client.details.requirePkce' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.requirePkce\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.allowPlainTextPkce-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                'client.details.allowPlainTextPkce' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.allowPlainTextPkce\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.allowAccessTokensViaBrowser' | translate }}\r\n                </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.allowAccessTokensViaBrowser-tooltip' | translate\" [popoverTitle]=\"'client.details.allowAccessTokensViaBrowser' | translate\" placement=\"auto\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\" placement=\"top\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.allowAccessTokensViaBrowser\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Button-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.properties-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                'client.details.properties' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <a [routerLink]=\"['/clients', model.clientId, 'properties']\" class=\"btn btn-primary\">{{\r\n                    'client.details.properties' | translate }}</a>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { ScopeService } from '@shared/services/scope.service';\r\nimport { Client } from '@shared/viewModel/client.model';\r\nimport { Observable } from 'rxjs';\r\nimport { debounceTime, map } from 'rxjs/operators';\r\n\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-settings\",\r\n    templateUrl: \"./settings.component.html\",\r\n    styleUrls: [\"./settings.component.scss\"],\r\n    providers: [ScopeService]\r\n})\r\nexport class ClientSettingsComponent implements OnInit {\r\n\r\n    @Input()\r\n    public model: Client;\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        public translator: TranslatorService,\r\n        private scopeService: ScopeService\r\n    ) { }\r\n\r\n    public requestScopeItems = (text: string): Observable<string[]> => {\r\n        return this.scopeService.getScopes(text).pipe(debounceTime(500)).pipe(map(a => a));\r\n    }\r\n\r\n    public addGrantType(type: string) {\r\n        if (this.model.allowedGrantTypes.find(a => a == type) == null)\r\n            this.model.allowedGrantTypes.push(type);\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n}\r\n","<div class=\"form-horizontal\">\r\n\r\n    <!--Input - Number -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.identityTokenLifetime-tooltip' | translate\">{{\r\n                'client.details.identityTokenLifetime' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-identityTokenLifetime\" [placeholder]=\"'client.details.identityTokenLifetime-tooltip' | translate\" [(ngModel)]=\"model.identityTokenLifetime\" numbersOnly />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - Number -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.accessTokenLifetime-tooltip' | translate\">{{\r\n                'client.details.accessTokenLifetime' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-accessTokenLifetime\" [placeholder]=\"'client.details.accessTokenLifetime-tooltip' | translate\" [(ngModel)]=\"model.accessTokenLifetime\" numbersOnly />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Select-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.accessTokenTypes-tooltip' | translate\">{{\r\n                'client.details.accessTokenTypes' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <ng-select [items]=\"accessTokenTypes\" [(ngModel)]=\"model.accessTokenType\" bindValue=\"id\" bindLabel=\"text\" [placeholder]=\"'client.details.accessTokenTypes' | translate\"></ng-select>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - Number -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.authorizationCodeLifetime-tooltip' | translate\">{{\r\n                'client.details.authorizationCodeLifetime' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-authorizationCodeLifetime\" [placeholder]=\"'client.details.authorizationCodeLifetime-tooltip' | translate\" [(ngModel)]=\"model.authorizationCodeLifetime\" numbersOnly />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - Number -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.absoluteRefreshTokenLifetime-tooltip' | translate\">{{\r\n                'client.details.absoluteRefreshTokenLifetime' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-absoluteRefreshTokenLifetime\" [placeholder]=\"'client.details.absoluteRefreshTokenLifetime-tooltip' | translate\" [(ngModel)]=\"model.absoluteRefreshTokenLifetime\" numbersOnly />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - Number -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.slidingRefreshTokenLifetime-tooltip' | translate\">{{\r\n                'client.details.slidingRefreshTokenLifetime' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-slidingRefreshTokenLifetime\" [placeholder]=\"'client.details.slidingRefreshTokenLifetime-tooltip' | translate\" [(ngModel)]=\"model.slidingRefreshTokenLifetime\" numbersOnly />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Select-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.refreshTokenUsage-tooltip' | translate\">{{\r\n                'client.details.refreshTokenUsage' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <ng-select [items]=\"refreshTokenUsages\" [(ngModel)]=\"model.refreshTokenUsage\" bindValue=\"id\" bindLabel=\"text\" [placeholder]=\"'client.details.refreshTokenUsage-tooltip' | translate\"></ng-select>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Select-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.refreshTokenExpiration' | translate }} </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.refreshTokenExpiration-tooltip' | translate\" [popoverTitle]=\"'client.details.refreshTokenExpiration' | translate\" placement=\"top\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <ng-select [items]=\"tokenExpirations\" [(ngModel)]=\"model.refreshTokenExpiration\" bindValue=\"id\" bindLabel=\"text\" [placeholder]=\"'client.details.refreshTokenExpiration-tooltip' | translate\"></ng-select>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.updateAccessTokenClaimsOnRefresh-tooltip' | translate\">{{\r\n                'client.details.updateAccessTokenClaimsOnRefresh' | translate }}\r\n                <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.updateAccessTokenClaimsOnRefresh\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.includeJwtId-tooltip' | translate\">{{\r\n                'client.details.includeJwtId' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.includeJwtId\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.alwaysSendClientClaims-tooltip' | translate\">{{\r\n                'client.details.alwaysSendClientClaims' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.alwaysSendClientClaims\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Checkbox-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <div class=\"col-xl-4\">\r\n                <label class=\"col-form-label\">{{ 'client.details.alwaysIncludeUserClaimsInIdToken' | translate }}\r\n                </label>&nbsp;\r\n                <button type=\"button\" class=\"btn btn-xs btn-info\" [popover]=\"'client.details.alwaysIncludeUserClaimsInIdToken-tooltip' | translate\" [popoverTitle]=\"'client.details.alwaysIncludeUserClaimsInIdToken' | translate\" placement=\"top\" container=\"body\" [adaptivePosition]=\"false\">\r\n                    <i class=\"fa fa-comment-dots\"></i>\r\n                </button>\r\n            </div>\r\n            <div class=\"col-xl-8\">\r\n                <label class=\"switch m-0\">\r\n                    <input type=\"checkbox\" [(ngModel)]=\"model.alwaysIncludeUserClaimsInIdToken\" />\r\n                    <span></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.pairWiseSubjectSalt-tooltip' | translate\">{{\r\n                'client.details.pairWiseSubjectSalt' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-pairWiseSubjectSalt\" [placeholder]=\"'client.details.pairWiseSubjectSalt-tooltip' | translate\" [(ngModel)]=\"model.pairWiseSubjectSalt\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Input - text -->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label class=\"col-xl-4 col-form-label\" placement=\"top\" [tooltip]=\"'client.details.clientClaimsPrefix-tooltip' | translate\">{{\r\n                'client.details.clientClaimsPrefix' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <input class=\"form-control\" autocomplete=\"client-clientClaimsPrefix\" [placeholder]=\"'client.details.clientClaimsPrefix-tooltip' | translate\" [(ngModel)]=\"model.clientClaimsPrefix\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!--Button-->\r\n    <fieldset>\r\n        <div class=\"form-group row\">\r\n            <label placement=\"top\" [tooltip]=\"'client.details.claims-tooltip' | translate\" class=\"col-xl-4 col-form-label\">{{\r\n                'client.details.claims' | translate }} <i class=\"fa fa-comment-dots\"></i></label>\r\n            <div class=\"col-xl-8\">\r\n                <a [routerLink]=\"['/clients', model.clientId, 'claims']\" class=\"btn btn-primary\">{{\r\n                    'client.details.claims' | translate }}</a>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n</div>","import { ChangeDetectorRef, Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { NgSelectConfig } from '@ng-select/ng-select';\r\nimport { Client } from '@shared/viewModel/client.model';\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-token\",\r\n    templateUrl: \"./token.component.html\",\r\n    styleUrls: [\"./token.component.scss\"],\r\n})\r\nexport class ClientTokenComponent implements OnInit {\r\n\r\n\r\n    @Input()\r\n    public model: Client;\r\n    accessTokenTypes: { id: number; text: string; }[];\r\n    refreshTokenUsages: { id: number; text: string; }[];\r\n    tokenExpirations: { id: number; text: string; }[];\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        public translator: TranslatorService) {\r\n            \r\n\r\n         }\r\n\r\n\r\n    ngOnInit() {\r\n        this.accessTokenTypes = [{ id: 0, text: \"Jwt\" }, { id: 1, text: \"Reference\" }];\r\n        this.refreshTokenUsages = [{ id: 0, text: \"ReUse\" }, { id: 1, text: \"One Time Only\" }];\r\n        this.tokenExpirations = [{ id: 0, text: \"Sliding\" }, { id: 1, text: \"Absolute\" }];\r\n    }\r\n\r\n}\r\n","<div class=\"content-heading\">\r\n    <div>\r\n        💻 {{ 'general.clients' | translate }}\r\n        <small><b> {{ 'client.ClientDescription' | translate }}.</b></small>\r\n    </div>\r\n</div>\r\n\r\n<ng-template #loading>\r\n    <app-loading></app-loading>\r\n</ng-template>\r\n\r\n<div class=\"card card-default\" *ngIf=\"clientList$ | async as clientList; else loading\">\r\n    <div class=\"card\">\r\n        <div class=\"card-header\">\r\n            <a class=\"btn btn-outline-primary mb-3\" [routerLink]=\"[ '/clients/add' ]\"><i class=\"fa fa-plus-circle\"></i>\r\n                {{'general.add' | translate}} {{ 'general.clients' | translate }}</a>\r\n        </div>\r\n\r\n        <div class=\"card-body\">\r\n            <div class=\"table-responsive\">\r\n                <table class=\"table table-striped\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th> {{ \"client.Image\" | translate }}</th>\r\n                            <th> {{\"client.TableClientName\" | translate }} </th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngFor=\"let client of clientList\">\r\n                            <th>\r\n                                <a [routerLink]=\"['/clients',  client.clientId, 'edit']\" class=\"btn btn-primary btn-xs\" placement=\"top\" [tooltip]=\"'general.edit' | translate\"><i\r\n                                        class=\"fa fa-edit\"></i></a> &nbsp;\r\n                                <button (click)=\"copy(client.clientId)\" class=\"btn btn-outline-info btn-xs\" placement=\"top\" [tooltip]=\"'general.copy' | translate\"><i\r\n                                        class=\"fa fa-copy\"></i></button>\r\n                            </th>\r\n                            <td><img *ngIf=\"client.logoUri\" height=\"33\" [src]=\"client.logoUri\" /></td>\r\n                            <td>{{client.clientName}}</td>\r\n                            <td>\r\n                                <button class=\"btn btn-danger btn-xs\" placement=\"top\" [tooltip]=\"'general.remove' | translate\" (click)=\"remove(client.clientId)\"><i\r\n                                        class=\"fa fa-times\"></i></button>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { ClientService } from '@app/clients/clients.service';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { ClientList } from '@shared/viewModel/client-list.model';\r\nimport { ProblemDetails } from '@shared/viewModel/default-response.model';\r\nimport { Observable, Subject } from 'rxjs';\r\nimport { flatMap, startWith } from 'rxjs/operators';\r\nimport Swal from 'sweetalert2';\r\n\r\n@Component({\r\n    selector: \"app-clients-list\",\r\n    templateUrl: \"./clients-list.component.html\",\r\n    styleUrls: [\"./clients-list.component.scss\"],\r\n})\r\nexport class ClientListComponent implements OnInit {\r\n\r\n    private refresh = new Subject<string>();\r\n    public clientList$: Observable<ClientList[]>;\r\n\r\n    constructor(\r\n        public translator: TranslatorService,\r\n        private clientService: ClientService) { }\r\n\r\n    ngOnInit() {\r\n        this.clientList$ = this.refresh.asObservable()\r\n            .pipe(startWith(\"init\"))\r\n            .pipe(flatMap(_ => this.clientService.getClients()));\r\n    }\r\n\r\n    public loadClients() {\r\n        this.refresh.next('refresh');\r\n    }\r\n\r\n    public copy(clientId: string) {\r\n        this.translator.translate.get('client.clone').subscribe(m => {\r\n            Swal.fire({\r\n                title: m['title'],\r\n                text: m[\"text\"],\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#b82d8',\r\n                confirmButtonText: m[\"confirmButtonText\"],\r\n                cancelButtonText: m[\"cancelButtonText\"],\r\n            }).then(isConfirm => {\r\n                if (isConfirm.value) {\r\n\r\n                    this.clientService.copy(clientId).subscribe(\r\n                        updatedClient => {\r\n                            this.loadClients();\r\n                            Swal.fire(\"Cloned!\", m[\"cloned\"], 'success');\r\n                        },\r\n                        err => {\r\n                            let errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                            Swal.fire(\"Error!\", errors[0], 'error');\r\n                        }\r\n                    );\r\n                } else {\r\n                    Swal.fire(\"Cancelled\", m[\"cancelled\"], 'info');\r\n                }\r\n            });\r\n        });\r\n    }\r\n\r\n    public remove(clientId: string) {\r\n        this.translator.translate.get('client.remove').subscribe(m => {\r\n            Swal.fire({\r\n                title: m['title'],\r\n                text: m[\"text\"],\r\n                type: 'warning',\r\n                showCancelButton: true,\r\n                confirmButtonColor: '#DD6B55',\r\n                confirmButtonText: m[\"confirmButtonText\"],\r\n                cancelButtonText: m[\"cancelButtonText\"]\r\n            }).then(isConfirm => {\r\n                if (isConfirm.value) {\r\n\r\n                    this.clientService.remove(clientId).subscribe(\r\n                        () => {\r\n                            this.loadClients();\r\n                            Swal.fire(\"Deleted!\", m[\"deleted\"], 'success');\r\n                        },\r\n                        err => {\r\n                            let errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                            Swal.fire(\"Error!\", errors[0], 'error');\r\n                        }\r\n                    );\r\n\r\n\r\n                } else {\r\n                    Swal.fire(\"Cancelled\", m[\"cancelled\"], 'error');\r\n                }\r\n            });\r\n        });\r\n\r\n\r\n    }\r\n}\r\n","<div class=\"content-heading\">\r\n    <div>\r\n        💻 {{ 'general.clients' | translate }} - <b>Properties</b>\r\n        <small><b [innerHTML]=\"'client.PropertiesDescription' | translate\"></b></small>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"card card-default\">\r\n    <div class=\"card-body\">\r\n        <a [routerLink]=\"[ '/clients', client, 'edit']\" class=\"btn btn-outline-primary\">{{ 'general.goback' | translate }}</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n\r\n<app-loading *ngIf=\"model == null || showButtonLoading\"></app-loading>\r\n\r\n<div class=\"card card-default\" *ngIf=\"clientProperties && clientProperties.length > 0\">\r\n    <div class=\"card-header\">\r\n        <h3>{{ client }}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <table class=\"table table-striped\">\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>{{ 'client.property.key' | translate }}</th>\r\n                    <th>{{ 'client.property.value' | translate }}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let property of clientProperties\">\r\n                    <td><button class=\"btn btn-danger\" (click)=\"remove(property.key)\"><i class=\"fa fa-times\"></i></button></td>\r\n                    <td>{{property.key}}</td>\r\n                    <td>{{property.value}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"card card-default\">\r\n    <div class=\"card-header\">\r\n        <h3>{{ client }}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n\r\n        <!--Input - text -->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'client.property.key' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'client.property.key-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <input class=\"form-control\" autocomplete=\"property-value\" [placeholder]=\"'client.property.key-tooltip' | translate\" [(ngModel)]=\"model.key\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n        <!--Input - text -->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'client.property.value' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'client.property.value-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <input class=\"form-control\" autocomplete=\"property-value\" [placeholder]=\"'client.property.value-tooltip' | translate\" [(ngModel)]=\"model.value\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n    </div>\r\n    <div class=\"card-footer\">\r\n        <button class=\"mb-1 btn btn-primary\" (click)=\"save()\" type=\"button\">Save</button>\r\n        <a class=\"mb-1 btn btn-secondary\" [routerLink]=\"['/clients', client, 'edit']\">Cancel</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n<toaster-container [toasterconfig]=\"toasterconfig\"></toaster-container>","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClientService } from '@app/clients/clients.service';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { ClientProperty } from '@shared/viewModel/client.model';\r\nimport { ProblemDetails } from '@shared/viewModel/default-response.model';\r\nimport { ToasterConfig, ToasterService } from 'angular2-toaster';\r\nimport { Observable } from 'rxjs';\r\nimport { flatMap, map, tap } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-properties\",\r\n    templateUrl: \"./properties.component.html\",\r\n    styleUrls: [\"./properties.component.scss\"],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ClientPropertiesComponent implements OnInit {\r\n\r\n    public errors: Array<string>;\r\n\r\n    public model: ClientProperty;\r\n    public clientProperties: ClientProperty[];\r\n\r\n    public toasterconfig: ToasterConfig = new ToasterConfig({\r\n        positionClass: 'toast-top-right',\r\n        showCloseButton: true\r\n    });\r\n    public showButtonLoading: boolean;\r\n    public client: string;\r\n    public bsConfig = {\r\n        containerClass: 'theme-angle'\r\n    };\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        public translator: TranslatorService,\r\n        private clientService: ClientService,\r\n        public toasterService: ToasterService) { }\r\n\r\n    public ngOnInit() {\r\n        this.route.params\r\n            .pipe(tap(p => this.client = p[\"clientId\"]))\r\n            .pipe(map(p => p[\"clientId\"]))\r\n            .pipe(flatMap(m => this.clientService.getClientProperties(m.toString())))\r\n            .subscribe(result => this.clientProperties = result);\r\n\r\n        this.errors = [];\r\n        this.model = new ClientProperty();\r\n        this.showButtonLoading = false;\r\n    }\r\n\r\n    public showSuccessMessage() {\r\n        this.translator.translate.get('toasterMessages').subscribe(a => {\r\n            this.toasterService.pop(\"success\", a[\"title-success\"], a[\"message-success\"]);\r\n        });\r\n    }\r\n\r\n    public remove(key: string) {\r\n\r\n        this.showButtonLoading = true;\r\n        this.clientService.removeProperty(this.client, key).subscribe(\r\n            () => {\r\n                this.showSuccessMessage();\r\n                this.loadProperties();\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    private loadProperties(): void {\r\n        this.clientService.getClientProperties(this.client).subscribe(c => this.clientProperties = c);\r\n    }\r\n\r\n    public save() {\r\n        this.showButtonLoading = true;\r\n\r\n        this.model.clientId = this.client;\r\n        this.clientService.saveProperty(this.model).subscribe(\r\n            properties => {\r\n                this.showSuccessMessage();\r\n                this.clientProperties = properties;\r\n                this.model = new ClientProperty();\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n}\r\n","<div class=\"content-heading\">\r\n    <div>\r\n        💻 {{ 'general.clients' | translate }} - <b>Secrets</b>\r\n        <small><b [innerHTML]=\"'client.SecretDescription' | translate\"></b></small>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"card card-default\">\r\n    <div class=\"card-body\">\r\n        <a [routerLink]=\"['/clients', client, 'edit']\" class=\"btn btn-outline-primary\">{{ 'general.goback' | translate }}</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n<app-loading *ngIf=\"showButtonLoading\"></app-loading>\r\n\r\n<div class=\"card card-default\" *ngIf=\"clientSecrets && clientSecrets.length > 0\" [hidden]=\"showButtonLoading\">\r\n    <div class=\"card-header\">\r\n        <h3>{{ client }}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <table class=\"table table-striped\">\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                    <th>{{ 'secrets.secretValue' | translate }}</th>\r\n                    <th>{{ 'secrets.secretType' | translate }}</th>\r\n                    <th>{{ 'secrets.expiration' | translate }}</th>\r\n                    <th>{{ 'secrets.description' | translate }}</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let secret of clientSecrets\">\r\n                    <td><button class=\"btn btn-danger btn-xs\" (click)=\"remove(secret)\"><i class=\"fa fa-times\"></i></button></td>\r\n                    <td>{{secret.value}}</td>\r\n                    <td>{{secret.type}}</td>\r\n                    <td>{{secret.expiration}}</td>\r\n                    <td>{{secret.description}}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"card card-default\" [hidden]=\"showButtonLoading\">\r\n    <div class=\"card-header\">\r\n        <h3>{{ client }}</h3>\r\n    </div>\r\n    <div class=\"card-body\">\r\n        <!--Select-->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'secrets.secretType' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'secrets.secretType-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <ng-select [items]=\"secretTypes\" [(ngModel)]=\"model.type\" bindValue=\"id\" bindLabel=\"text\" [placeholder]=\"'secrets.secretType-tooltip' | translate\"></ng-select>\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n        <!--Input - text -->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'secrets.secretValue' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'secrets.secretValue-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <input class=\"form-control\" autocomplete=\"secret-value\" [placeholder]=\"'secrets.secretValue-tooltip' | translate\" [(ngModel)]=\"model.value\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n        <!--Select-->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'secrets.hashType' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'secrets.hashType-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <ng-select [items]=\"hashTypes\" [(ngModel)]=\"model.hashType\" bindValue=\"id\" bindLabel=\"text\" [placeholder]=\"'secrets.hashType-tooltip' | translate\"></ng-select>\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n        <!--Select-->\r\n        <fieldset>\r\n            <div class=\"form-group row\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'secrets.description' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'secrets.description-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <input class=\"form-control\" autocomplete=\"secret-description\" [placeholder]=\"'secrets.description-tooltip' | translate\" [(ngModel)]=\"model.description\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n        <!--Datepicker-->\r\n        <fieldset>\r\n            <div class=\"form-group row mb\">\r\n                <label class=\"col-xl-3 col-form-label\">{{ 'secrets.expiration' | translate }} <i class=\"fa fa-comment-dots\"\r\n                        placement=\"top\" [tooltip]=\"'secrets.expiration-tooltip' | translate\"></i></label>\r\n                <div class=\"col-xl-9\">\r\n                    <input type=\"text\" class=\"form-control\" #dp=\"bsDatepicker\" bsDatepicker [(bsValue)]=\"model.expiration\" name=\"dp-basic\" [bsConfig]=\"bsConfig\">\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n    </div>\r\n    <div class=\"card-footer\">\r\n        <button class=\"mb-1 btn btn-primary\" (click)=\"save()\" type=\"button\">Save</button>\r\n        <a class=\"mb-1 btn btn-secondary\" [routerLink]=\"['/clients', client, 'edit']\">Cancel</a>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"errors.length > 0\">\r\n    <alert type=\"danger\">\r\n        <div *ngFor=\"let error of errors; let i = index\"><strong>{{i+1}}</strong> {{error}}</div>\r\n    </alert>\r\n</div>\r\n<toaster-container [toasterconfig]=\"toasterconfig\"></toaster-container>","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ClientService } from '@app/clients/clients.service';\r\nimport { TranslatorService } from '@core/translator/translator.service';\r\nimport { ClientSecret } from '@shared/viewModel/client.model';\r\nimport { ProblemDetails } from '@shared/viewModel/default-response.model';\r\nimport { ToasterConfig, ToasterService } from 'angular2-toaster';\r\nimport { Observable } from 'rxjs';\r\nimport { flatMap, map, tap } from 'rxjs/operators';\r\n\r\n\r\n@Component({\r\n    selector: \"app-client-secrets\",\r\n    templateUrl: \"./secrets.component.html\",\r\n    styleUrls: [\"./secrets.component.scss\"],\r\n    encapsulation: ViewEncapsulation.None\r\n})\r\nexport class ClientSecretsComponent implements OnInit {\r\n\r\n    public errors: Array<string>;\r\n\r\n    public model: ClientSecret;\r\n    public clientSecrets: ClientSecret[];\r\n\r\n    public toasterconfig: ToasterConfig = new ToasterConfig({\r\n        positionClass: 'toast-top-right',\r\n        showCloseButton: true\r\n    });\r\n    public showButtonLoading: boolean;\r\n    public client: string;\r\n    public hashTypes: { id: number; text: string; }[];\r\n    public secretTypes: { id: string; text: string; }[];\r\n    public bsConfig = {\r\n        containerClass: 'theme-angle'\r\n    };\r\n\r\n    constructor(\r\n        private route: ActivatedRoute,\r\n        private router: Router,\r\n        public translator: TranslatorService,\r\n        private clientService: ClientService,\r\n        public toasterService: ToasterService) { }\r\n\r\n    public ngOnInit() {\r\n        this.route.params\r\n            .pipe(tap(p => this.client = p[\"clientId\"]))\r\n            .pipe(map(p => p[\"clientId\"]))\r\n            .pipe(flatMap(m => this.clientService.getClientSecrets(m.toString())))\r\n            .subscribe(result => this.clientSecrets = result);\r\n\r\n        this.errors = [];\r\n        this.model = new ClientSecret();\r\n        this.showButtonLoading = false;\r\n        this.hashTypes = [{ id: 0, text: \"Sha256\" }, { id: 1, text: \"Sha512\" }];\r\n        this.secretTypes = [{ id: 'SharedSecret', text: \"Shared Secret\" }, { id: 'X509Thumbprint', text: \"X509 Thumbprint\" }, { id: 'X509Name', text: \"X509 Name\" }, { id: 'X509CertificateBase64', text: \"X509 Certificate Base64\" }];\r\n    }\r\n\r\n    public showSuccessMessage() {\r\n        this.translator.translate.get('toasterMessages').subscribe(a => {\r\n            this.toasterService.pop(\"success\", a[\"title-success\"], a[\"message-success\"]);\r\n        });\r\n    }\r\n\r\n    public remove(secret: ClientSecret) {\r\n\r\n        this.showButtonLoading = true;\r\n        this.errors = [];\r\n        this.clientService.removeSecret(this.client, secret.type, secret.value).subscribe(\r\n            () => {\r\n                this.showSuccessMessage();\r\n                this.loadSecrets();\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n    }\r\n\r\n    private loadSecrets(): void {\r\n        this.clientService.getClientSecrets(this.client).subscribe(c => this.clientSecrets = c);\r\n    }\r\n\r\n    public save() {\r\n        this.showButtonLoading = true;\r\n        this.errors = [];\r\n\r\n        this.model.clientId = this.client;\r\n        this.clientService.saveSecret(this.model).subscribe(\r\n            registerResult => {\r\n                this.showSuccessMessage();\r\n                this.clientSecrets = registerResult;\r\n                this.model = new ClientSecret();\r\n                this.showButtonLoading = false;\r\n            },\r\n            err => {\r\n                this.errors = ProblemDetails.GetErrors(err).map(a => a.value);\r\n                this.showButtonLoading = false;\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n}\r\n","import { Directive, ElementRef, HostListener, Input } from '@angular/core';\r\nimport { NgControl } from '@angular/forms';\r\n\r\n@Directive({\r\n  selector: 'input[numbersOnly]'\r\n})\r\nexport class NumberDirective {\r\n\r\n  constructor(private _el: ElementRef) { }\r\n\r\n  @HostListener('input', ['$event']) onInputChange(event) {\r\n    const initalValue = this._el.nativeElement.value;\r\n    this._el.nativeElement.value = initalValue.replace(/[^0-9]*/g, '');\r\n    if ( initalValue !== this._el.nativeElement.value) {\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from '@env/environment';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class ScopeService {\r\n   \r\n\r\n    endpoint: string;\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.endpoint = environment.ResourceServer + \"api/scopes\";\r\n    }\r\n\r\n    public getScopes(text: string): Observable<string[]> {\r\n        return this.http.get<string[]>(`${this.endpoint}/${text}`);\r\n    }\r\n}\r\n","import { Claim } from './claim.model';\r\nimport { FileViewModel } from './file.model';\r\n\r\nexport class ClientSecret {\r\n    constructor() {\r\n        this.hashType = 0;\r\n    }\r\n    clientId: string;\r\n    description: string;\r\n    value: string;\r\n    expiration: Date;\r\n    type: string;\r\n    hashType: number;\r\n}\r\n\r\nexport class Subject {\r\n    authenticationType: string;\r\n    isAuthenticated: boolean;\r\n    bootstrapContext: any;\r\n    claims: any[];\r\n    label: string;\r\n    name: string;\r\n    nameClaimType: string;\r\n    roleClaimType: string;\r\n}\r\n\r\n\r\nexport class ClientClaim extends Claim {\r\n    clientId: string;\r\n}\r\n\r\nexport class KeyValuePair {\r\n    key: string;\r\n    value: string;\r\n}\r\n\r\n\r\nexport class ClientProperty {\r\n    clientId: string;\r\n    key: string;\r\n    value: string;\r\n}\r\n\r\nexport class NewClient {\r\n    clientId: string;\r\n    clientName: string;\r\n    clientUri: string;\r\n    logoUri: string;\r\n    description: string;\r\n    clientType: number;\r\n    postLogoutRedirectUris: string;\r\n    logo: FileViewModel;\r\n}\r\n\r\nexport class Client {\r\n    enabled: boolean;\r\n    clientId: string;\r\n    description: string;\r\n    protocolType: string;\r\n    clientSecrets: ClientSecret[];\r\n    requireClientSecret: boolean;\r\n    clientName: string;\r\n    clientUri: string;\r\n    logoUri: string;\r\n    requireConsent: boolean;\r\n    allowRememberConsent: boolean;\r\n    allowedGrantTypes: string[];\r\n    requirePkce: boolean;\r\n    allowPlainTextPkce: boolean;\r\n    allowAccessTokensViaBrowser: boolean;\r\n    redirectUris: string[];\r\n    postLogoutRedirectUris: string[];\r\n    frontChannelLogoutUri: string;\r\n    frontChannelLogoutSessionRequired: boolean;\r\n    backChannelLogoutUri: string;\r\n    backChannelLogoutSessionRequired: boolean;\r\n    allowOfflineAccess: boolean;\r\n    allowedScopes: string[];\r\n    alwaysIncludeUserClaimsInIdToken: boolean;\r\n    identityTokenLifetime: number;\r\n    accessTokenLifetime: number;\r\n    authorizationCodeLifetime: number;\r\n    absoluteRefreshTokenLifetime: number;\r\n    slidingRefreshTokenLifetime: number;\r\n    consentLifetime: number;\r\n    refreshTokenUsage: number;\r\n    updateAccessTokenClaimsOnRefresh: boolean;\r\n    refreshTokenExpiration: number;\r\n    accessTokenType: number;\r\n    enableLocalLogin: boolean;\r\n    identityProviderRestrictions: string[];\r\n    includeJwtId: boolean;\r\n    claims: Claim[];\r\n    alwaysSendClientClaims: boolean;\r\n    clientClaimsPrefix: string;\r\n    pairWiseSubjectSalt: string;\r\n    allowedCorsOrigins: string[];\r\n    properties: ClientProperty[];\r\n    userCodeType: string;\r\n    deviceCodeLifetime: number;\r\n    userSsoLifetime: number;\r\n    logo: FileViewModel;\r\n    \r\n    public static isValid(client: Client, errors: string[]): boolean {\r\n        errors.length = 0;\r\n        if (client.allowedGrantTypes == null || client.allowedGrantTypes.length <= 0) {\r\n            errors.push(\"Invalid Grant Types\");\r\n        }\r\n\r\n        // spaces are not allowed in grant types\r\n        client.allowedGrantTypes.forEach(grant => {\r\n            if (grant.indexOf(' ') >= 0) {\r\n                errors.push(\"Grant types cannot contain spaces\");\r\n            }\r\n        });\r\n\r\n        // single grant type, seems to be fine\r\n        if (client.allowedGrantTypes.length == 1) return true;\r\n\r\n        // would allow response_type downgrade attack from code to token\r\n        Client.findGrantTypes('implicit', 'authorization_code', client.allowedGrantTypes, errors);\r\n        Client.findGrantTypes('implicit', 'hybrid', client.allowedGrantTypes, errors);\r\n\r\n        Client.findGrantTypes('authorization_code', 'hybrid', client.allowedGrantTypes, errors);\r\n\r\n        return errors.length <= 0;\r\n    }\r\n\r\n    public static findGrantTypes(grantA: string, grantB: string, grants: string[], errors: string[]) {\r\n        if (grants.find(g => g == grantA) != null && grants.find(g => g == grantB) != null)\r\n            errors.push(`Grant types list cannot contain both ${grantA} and ${grantB}`);\r\n\r\n    }\r\n}\r\n\r\n\r\n","export class FileViewModel {\r\n    constructor(public filename: string,\r\n        public fileType: string,\r\n        public value: string) { }\r\n}\r\n"],"sourceRoot":""}